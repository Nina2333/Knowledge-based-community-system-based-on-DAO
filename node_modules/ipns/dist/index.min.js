(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Ipns = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Ipns=(()=>{var Mc=Object.create;var Fn=Object.defineProperty;var Oc=Object.getOwnPropertyDescriptor;var Vc=Object.getOwnPropertyNames;var qc=Object.getPrototypeOf,zc=Object.prototype.hasOwnProperty;var z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),kt=(t,e)=>{for(var r in e)Fn(t,r,{get:e[r],enumerable:!0})},_a=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Vc(e))!zc.call(t,i)&&i!==r&&Fn(t,i,{get:()=>e[i],enumerable:!(n=Oc(e,i))||n.enumerable});return t};var Q=(t,e,r)=>(r=t!=null?Mc(qc(t)):{},_a(e||!t||!t.__esModule?Fn(r,"default",{value:t,enumerable:!0}):r,t)),Hc=t=>_a(Fn({},"__esModule",{value:!0}),t);var Ra=z((F1,Fi)=>{var P1=function(){typeof Fi<"u"&&(Fi.exports=d);var t=86400,e=3200,r=146097*e/400,n=t*r,i=1e3*n,o=864e13,a=4294967296,s=1e6,u="000000000",f=Math.trunc||function(T){var F=T-T%1;return F==0&&(T<0||T===0&&1/T!=1/0)?-0:F},c=d.prototype,l=(d.fromDate=function(T){return new d(+T)},d.fromInt64BE=P(0,1,2,3,0,4),d.fromInt64LE=P(3,2,1,0,4,0),d.fromString=function(V){var F,$=new d,V=(V+="").replace(/^\s*[+\-]?\d+/,function(at){var at=+at,lt=1970+(at-1970)%400;return $.year=at-lt,lt}).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,function(O,at,lt){return at<0&&(lt*=-1),F=6e4*(60*+at+ +lt),""}).replace(/\.\d+$/,function(O){return $.nano=+(O+u).substr(1,9),""}).split(/\D+/);if(1<V.length?V[1]--:V[1]=0,$.time=F=Date.UTC.apply(Date,V)-(F||0),isNaN(F))throw new TypeError("Invalid Date");return x($)},d.fromTimeT=function(T){return B(T,0)},c.year=0,c.time=0,c.nano=0,c.addNano=function(T){return this.nano+=+T||0,this},c.getNano=function(){var T=x(this);return(T.time%1e3*s+ +T.nano+1e9)%1e9},c.getTimeT=function(){var F=x(this),T=Math.floor(F.time/1e3),F=F.year;return F&&(T+=F*r*t/e),T},c.getYear=function(){return this.toDate().getUTCFullYear()+this.year},c.toDate=function(){return v(x(this).time)},c.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},c.toString=function(T){var F=this,$=F.toDate(),V={H:function(){return I($.getUTCHours())},L:function(){return G($.getUTCMilliseconds(),3)},M:function(){return I($.getUTCMinutes())},N:function(){return G(F.getNano(),9)},S:function(){return I($.getUTCSeconds())},Y:function(){var O=F.getYear();return 999999<O?"+"+O:9999<O?"+"+G(O,6):0<=O?G(O,4):-999999<=O?"-"+G(-O,6):O},a:function(){return y[$.getUTCDay()]},b:function(){return h[$.getUTCMonth()]},d:function(){return I($.getUTCDate())},e:function(){return function(O){return(9<O?"":" ")+(0|O)}($.getUTCDate())},m:function(){return I($.getUTCMonth()+1)}};return function O(at){return at.replace(/%./g,function(lt){var Y=lt[1],q=p[Y],Y=V[Y];return q?O(q):Y?Y():lt})}(T||l)},c.writeInt64BE=C(0,1,2,3,0,4),c.writeInt64LE=C(3,2,1,0,4,0),"%Y-%m-%dT%H:%M:%S.%NZ"),h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p={"%":"%",F:"%Y-%m-%d",n:`
`,R:"%H:%M",T:"%H:%M:%S",t:"	",X:"%T",Z:"GMT",z:"+0000"};return d;function d(T,F,$){var V=this;if(!(V instanceof d))return new d(T,F,$);V.time=+T||0,V.nano=+F||0,V.year=+$||0,x(V)}function x(T){var F,$,V,O=T.year,at=T.time,lt=T.nano,q=((lt<0||s<=lt)&&(lt-=($=Math.floor(lt/s))*s,at+=$,$=1),O%e);return(at<-o||o<at||q)&&((F=f(at/i))&&(O+=F*e,at-=F*i),(V=v(at)).setUTCFullYear(q+V.getUTCFullYear()),V=(at=+V)+(F=f((O-=q)/e))*i,F&&-o<=V&&V<=o&&(O-=F*e,at=V),$=1),$&&(T.year=O,T.time=at,T.nano=lt),T}function v(T){var F=new Date(0);return F.setTime(T),F}function B(O,V){O=+O||0;var $=f((V=(V|0)*a)/n)+f(O/n),V=V%n+O%n,O=f(V/n);return O&&($+=O,V-=O*n),new d(1e3*V,0,$*e)}function C(T,F,$,V,O,at){return function(q,Y){var Ht=x(this);q=q||new Array(8),k(q,Y|=0);var he=Math.floor(Ht.time/1e3),Ht=Ht.year*(r*t/e),L=f(Ht/a)+f(he/a),Ht=Ht%a+he%a,he=Math.floor(Ht/a);return he&&(L+=he,Ht-=he*a),lt(q,Y+O,L),lt(q,Y+at,Ht),q};function lt(q,Y,L){q[Y+T]=L>>24&255,q[Y+F]=L>>16&255,q[Y+$]=L>>8&255,q[Y+V]=255&L}}function P(T,F,$,V,O,at){return function(q,Y){k(q,Y|=0);var L=lt(q,Y+O);return B(lt(q,Y+at),L)};function lt(q,Y){return 16777216*q[Y+T]+(q[Y+F]<<16|q[Y+$]<<8|q[Y+V])}}function k(T,F){if(T=T&&T.length,T==null)throw new TypeError("Invalid Buffer");if(T<F+8)throw new RangeError("Out of range")}function I(T){return(9<T?"":"0")+(0|T)}function G(T,F){return(u+(0|T)).substr(-F)}}()});var ts=z((L2,ja)=>{"use strict";ja.exports=Jl;function Jl(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(s,u){r[n]=function(c){if(o)if(o=!1,c)u(c);else{for(var l=new Array(arguments.length-1),h=0;h<l.length;)l[h++]=arguments[h];s.apply(null,l)}};try{t.apply(e||null,r)}catch(f){o&&(o=!1,u(f))}})}});var is=z(ns=>{"use strict";var qn=ns;qn.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Ar=new Array(64),rs=new Array(123);for(ie=0;ie<64;)rs[Ar[ie]=ie<26?ie+65:ie<52?ie+71:ie<62?ie-4:ie-59|43]=ie++;var ie;qn.encode=function(e,r,n){for(var i=null,o=[],a=0,s=0,u;r<n;){var f=e[r++];switch(s){case 0:o[a++]=Ar[f>>2],u=(f&3)<<4,s=1;break;case 1:o[a++]=Ar[u|f>>4],u=(f&15)<<2,s=2;break;case 2:o[a++]=Ar[u|f>>6],o[a++]=Ar[f&63],s=0;break}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0)}return s&&(o[a++]=Ar[u],o[a++]=61,s===1&&(o[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var es="invalid encoding";qn.decode=function(e,r,n){for(var i=n,o=0,a,s=0;s<e.length;){var u=e.charCodeAt(s++);if(u===61&&o>1)break;if((u=rs[u])===void 0)throw Error(es);switch(o){case 0:a=u,o=1;break;case 1:r[n++]=a<<2|(u&48)>>4,a=u,o=2;break;case 2:r[n++]=(a&15)<<4|(u&60)>>2,a=u,o=3;break;case 3:r[n++]=(a&3)<<6|u,o=0;break}}if(o===1)throw Error(es);return n-i};qn.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var as=z((F2,os)=>{"use strict";os.exports=zn;function zn(){this._listeners={}}zn.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};zn.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};zn.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var ps=z((K2,hs)=>{"use strict";hs.exports=ss(ss);function ss(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(u,f,c){e[0]=u,f[c]=r[0],f[c+1]=r[1],f[c+2]=r[2],f[c+3]=r[3]}function o(u,f,c){e[0]=u,f[c]=r[3],f[c+1]=r[2],f[c+2]=r[1],f[c+3]=r[0]}t.writeFloatLE=n?i:o,t.writeFloatBE=n?o:i;function a(u,f){return r[0]=u[f],r[1]=u[f+1],r[2]=u[f+2],r[3]=u[f+3],e[0]}function s(u,f){return r[3]=u[f],r[2]=u[f+1],r[1]=u[f+2],r[0]=u[f+3],e[0]}t.readFloatLE=n?a:s,t.readFloatBE=n?s:a}():function(){function e(n,i,o,a){var s=i<0?1:0;if(s&&(i=-i),i===0)n(1/i>0?0:2147483648,o,a);else if(isNaN(i))n(2143289344,o,a);else if(i>34028234663852886e22)n((s<<31|2139095040)>>>0,o,a);else if(i<11754943508222875e-54)n((s<<31|Math.round(i/1401298464324817e-60))>>>0,o,a);else{var u=Math.floor(Math.log(i)/Math.LN2),f=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((s<<31|u+127<<23|f)>>>0,o,a)}}t.writeFloatLE=e.bind(null,fs),t.writeFloatBE=e.bind(null,us);function r(n,i,o){var a=n(i,o),s=(a>>31)*2+1,u=a>>>23&255,f=a&8388607;return u===255?f?NaN:s*(1/0):u===0?s*1401298464324817e-60*f:s*Math.pow(2,u-150)*(f+8388608)}t.readFloatLE=r.bind(null,cs),t.readFloatBE=r.bind(null,ls)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(u,f,c){e[0]=u,f[c]=r[0],f[c+1]=r[1],f[c+2]=r[2],f[c+3]=r[3],f[c+4]=r[4],f[c+5]=r[5],f[c+6]=r[6],f[c+7]=r[7]}function o(u,f,c){e[0]=u,f[c]=r[7],f[c+1]=r[6],f[c+2]=r[5],f[c+3]=r[4],f[c+4]=r[3],f[c+5]=r[2],f[c+6]=r[1],f[c+7]=r[0]}t.writeDoubleLE=n?i:o,t.writeDoubleBE=n?o:i;function a(u,f){return r[0]=u[f],r[1]=u[f+1],r[2]=u[f+2],r[3]=u[f+3],r[4]=u[f+4],r[5]=u[f+5],r[6]=u[f+6],r[7]=u[f+7],e[0]}function s(u,f){return r[7]=u[f],r[6]=u[f+1],r[5]=u[f+2],r[4]=u[f+3],r[3]=u[f+4],r[2]=u[f+5],r[1]=u[f+6],r[0]=u[f+7],e[0]}t.readDoubleLE=n?a:s,t.readDoubleBE=n?s:a}():function(){function e(n,i,o,a,s,u){var f=a<0?1:0;if(f&&(a=-a),a===0)n(0,s,u+i),n(1/a>0?0:2147483648,s,u+o);else if(isNaN(a))n(0,s,u+i),n(2146959360,s,u+o);else if(a>17976931348623157e292)n(0,s,u+i),n((f<<31|2146435072)>>>0,s,u+o);else{var c;if(a<22250738585072014e-324)c=a/5e-324,n(c>>>0,s,u+i),n((f<<31|c/4294967296)>>>0,s,u+o);else{var l=Math.floor(Math.log(a)/Math.LN2);l===1024&&(l=1023),c=a*Math.pow(2,-l),n(c*4503599627370496>>>0,s,u+i),n((f<<31|l+1023<<20|c*1048576&1048575)>>>0,s,u+o)}}}t.writeDoubleLE=e.bind(null,fs,0,4),t.writeDoubleBE=e.bind(null,us,4,0);function r(n,i,o,a,s){var u=n(a,s+i),f=n(a,s+o),c=(f>>31)*2+1,l=f>>>20&2047,h=4294967296*(f&1048575)+u;return l===2047?h?NaN:c*(1/0):l===0?c*5e-324*h:c*Math.pow(2,l-1075)*(h+4503599627370496)}t.readDoubleLE=r.bind(null,cs,0,4),t.readDoubleBE=r.bind(null,ls,4,0)}(),t}function fs(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function us(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function cs(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function ls(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var ds=z((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var gs=z(ys=>{"use strict";var ao=ys;ao.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};ao.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var o=null,a=[],s=0,u;r<n;)u=e[r++],u<128?a[s++]=u:u>191&&u<224?a[s++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[s++]=55296+(u>>10),a[s++]=56320+(u&1023)):a[s++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};ao.write=function(e,r,n){for(var i=n,o,a,s=0;s<e.length;++s)o=e.charCodeAt(s),o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):(o&64512)===55296&&((a=e.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(a&1023),++s,r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128);return n-i}});var xs=z((O2,ms)=>{"use strict";ms.exports=jl;function jl(t,e,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(u){if(u<1||u>i)return t(u);a+u>n&&(o=t(n),a=0);var f=e.call(o,a,a+=u);return a&7&&(a=(a|7)+1),f}}});var ws=z((V2,vs)=>{"use strict";vs.exports=At;var an=ir();function At(t,e){this.lo=t>>>0,this.hi=e>>>0}var nr=At.zero=new At(0,0);nr.toNumber=function(){return 0};nr.zzEncode=nr.zzDecode=function(){return this};nr.length=function(){return 1};var th=At.zeroHash="\0\0\0\0\0\0\0\0";At.fromNumber=function(e){if(e===0)return nr;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new At(n,i)};At.from=function(e){if(typeof e=="number")return At.fromNumber(e);if(an.isString(e))if(an.Long)e=an.Long.fromString(e);else return At.fromNumber(parseInt(e,10));return e.low||e.high?new At(e.low>>>0,e.high>>>0):nr};At.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};At.prototype.toLong=function(e){return an.Long?new an.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var qe=String.prototype.charCodeAt;At.fromHash=function(e){return e===th?nr:new At((qe.call(e,0)|qe.call(e,1)<<8|qe.call(e,2)<<16|qe.call(e,3)<<24)>>>0,(qe.call(e,4)|qe.call(e,5)<<8|qe.call(e,6)<<16|qe.call(e,7)<<24)>>>0)};At.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};At.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};At.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};At.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var ir=z(so=>{"use strict";var K=so;K.asPromise=ts();K.base64=is();K.EventEmitter=as();K.float=ps();K.inquire=ds();K.utf8=gs();K.pool=xs();K.LongBits=ws();K.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);K.global=K.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||so;K.emptyArray=Object.freeze?Object.freeze([]):[];K.emptyObject=Object.freeze?Object.freeze({}):{};K.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};K.isString=function(e){return typeof e=="string"||e instanceof String};K.isObject=function(e){return e&&typeof e=="object"};K.isset=K.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};K.Buffer=function(){try{var t=K.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();K._Buffer_from=null;K._Buffer_allocUnsafe=null;K.newBuffer=function(e){return typeof e=="number"?K.Buffer?K._Buffer_allocUnsafe(e):new K.Array(e):K.Buffer?K._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};K.Array=typeof Uint8Array<"u"?Uint8Array:Array;K.Long=K.global.dcodeIO&&K.global.dcodeIO.Long||K.global.Long||K.inquire("long");K.key2Re=/^true|false|0|1$/;K.key32Re=/^-?(?:0|[1-9][0-9]*)$/;K.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;K.longToHash=function(e){return e?K.LongBits.from(e).toHash():K.LongBits.zeroHash};K.longFromHash=function(e,r){var n=K.LongBits.fromHash(e);return K.Long?K.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function bs(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}K.merge=bs;K.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Es(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&bs(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}K.newError=Es;K.ProtocolError=Es("ProtocolError");K.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),o=i.length-1;o>-1;--o)if(r[i[o]]===1&&this[i[o]]!==void 0&&this[i[o]]!==null)return i[o]}};K.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};K.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};K._configure=function(){var t=K.Buffer;if(!t){K._Buffer_from=K._Buffer_allocUnsafe=null;return}K._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},K._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var co=z((z2,Ts)=>{"use strict";Ts.exports=bt;var pe=ir(),uo,As=pe.LongBits,eh=pe.utf8;function oe(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function bt(t){this.buf=t,this.pos=0,this.len=t.length}var Ss=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new bt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new bt(e);throw Error("illegal buffer")},Cs=function(){return pe.Buffer?function(r){return(bt.create=function(i){return pe.Buffer.isBuffer(i)?new uo(i):Ss(i)})(r)}:Ss};bt.create=Cs();bt.prototype._slice=pe.Array.prototype.subarray||pe.Array.prototype.slice;bt.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,oe(this,10);return e}}();bt.prototype.int32=function(){return this.uint32()|0};bt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function fo(){var t=new As(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw oe(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw oe(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}bt.prototype.bool=function(){return this.uint32()!==0};function Hn(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}bt.prototype.fixed32=function(){if(this.pos+4>this.len)throw oe(this,4);return Hn(this.buf,this.pos+=4)};bt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw oe(this,4);return Hn(this.buf,this.pos+=4)|0};function Bs(){if(this.pos+8>this.len)throw oe(this,8);return new As(Hn(this.buf,this.pos+=4),Hn(this.buf,this.pos+=4))}bt.prototype.float=function(){if(this.pos+4>this.len)throw oe(this,4);var e=pe.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};bt.prototype.double=function(){if(this.pos+8>this.len)throw oe(this,4);var e=pe.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};bt.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw oe(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};bt.prototype.string=function(){var e=this.bytes();return eh.read(e,0,e.length)};bt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw oe(this,e);this.pos+=e}else do if(this.pos>=this.len)throw oe(this);while(this.buf[this.pos++]&128);return this};bt.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};bt._configure=function(t){uo=t,bt.create=Cs(),uo._configure();var e=pe.Long?"toLong":"toNumber";pe.merge(bt.prototype,{int64:function(){return fo.call(this)[e](!1)},uint64:function(){return fo.call(this)[e](!0)},sint64:function(){return fo.call(this).zzDecode()[e](!1)},fixed64:function(){return Bs.call(this)[e](!0)},sfixed64:function(){return Bs.call(this)[e](!1)}})}});var ks=z((H2,Rs)=>{"use strict";Rs.exports=or;var _s=co();(or.prototype=Object.create(_s.prototype)).constructor=or;var Is=ir();function or(t){_s.call(this,t)}or._configure=function(){Is.Buffer&&(or.prototype._slice=Is.Buffer.prototype.slice)};or.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};or._configure()});var xo=z((G2,Ls)=>{"use strict";Ls.exports=et;var Jt=ir(),lo,Gn=Jt.LongBits,Ns=Jt.base64,Ds=Jt.utf8;function sn(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function po(){}function rh(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function et(){this.len=0,this.head=new sn(po,0,0),this.tail=this.head,this.states=null}var Us=function(){return Jt.Buffer?function(){return(et.create=function(){return new lo})()}:function(){return new et}};et.create=Us();et.alloc=function(e){return new Jt.Array(e)};Jt.Array!==Array&&(et.alloc=Jt.pool(et.alloc,Jt.Array.prototype.subarray));et.prototype._push=function(e,r,n){return this.tail=this.tail.next=new sn(e,r,n),this.len+=r,this};function yo(t,e,r){e[r]=t&255}function nh(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function go(t,e){this.len=t,this.next=void 0,this.val=e}go.prototype=Object.create(sn.prototype);go.prototype.fn=nh;et.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new go((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};et.prototype.int32=function(e){return e<0?this._push(mo,10,Gn.fromNumber(e)):this.uint32(e)};et.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function mo(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}et.prototype.uint64=function(e){var r=Gn.from(e);return this._push(mo,r.length(),r)};et.prototype.int64=et.prototype.uint64;et.prototype.sint64=function(e){var r=Gn.from(e).zzEncode();return this._push(mo,r.length(),r)};et.prototype.bool=function(e){return this._push(yo,1,e?1:0)};function ho(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}et.prototype.fixed32=function(e){return this._push(ho,4,e>>>0)};et.prototype.sfixed32=et.prototype.fixed32;et.prototype.fixed64=function(e){var r=Gn.from(e);return this._push(ho,4,r.lo)._push(ho,4,r.hi)};et.prototype.sfixed64=et.prototype.fixed64;et.prototype.float=function(e){return this._push(Jt.float.writeFloatLE,4,e)};et.prototype.double=function(e){return this._push(Jt.float.writeDoubleLE,8,e)};var ih=Jt.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};et.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(yo,1,0);if(Jt.isString(e)){var n=et.alloc(r=Ns.length(e));Ns.decode(e,n,0),e=n}return this.uint32(r)._push(ih,r,e)};et.prototype.string=function(e){var r=Ds.length(e);return r?this.uint32(r)._push(Ds.write,r,e):this._push(yo,1,0)};et.prototype.fork=function(){return this.states=new rh(this),this.head=this.tail=new sn(po,0,0),this.len=0,this};et.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new sn(po,0,0),this.len=0),this};et.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};et.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};et._configure=function(t){lo=t,et.create=Us(),lo._configure()}});var Ks=z(($2,Fs)=>{"use strict";Fs.exports=de;var Ps=xo();(de.prototype=Object.create(Ps.prototype)).constructor=de;var ze=ir();function de(){Ps.call(this)}de._configure=function(){de.alloc=ze._Buffer_allocUnsafe,de.writeBytesBuffer=ze.Buffer&&ze.Buffer.prototype instanceof Uint8Array&&ze.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};de.prototype.bytes=function(e){ze.isString(e)&&(e=ze._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(de.writeBytesBuffer,r,e),this};function oh(t,e,r){t.length<40?ze.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}de.prototype.string=function(e){var r=ze.Buffer.byteLength(e);return this.uint32(r),r&&this._push(oh,r,e),this};de._configure()});var ut=z((cg,zs)=>{zs.exports={options:{usePureJavaScript:!1}}});var $s=z((lg,Gs)=>{var Bo={};Gs.exports=Bo;var Hs={};Bo.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=uh(t,e);else{var i=0,o=e.length,a=e.charAt(0),s=[0];for(i=0;i<t.length;++i){for(var u=0,f=t[i];u<s.length;++u)f+=s[u]<<8,s[u]=f%o,f=f/o|0;for(;f>0;)s.push(f%o),f=f/o|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=e[s[i]]}if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join(`\r
`)}return n};Bo.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=Hs[e];if(!r){r=Hs[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,o=e.charAt(0),a=[0],n=0;n<t.length;n++){var s=r[t.charCodeAt(n)];if(s===void 0)return;for(var u=0,f=s;u<a.length;++u)f+=a[u]*i,a[u]=f&255,f>>=8;for(;f>0;)a.push(f&255),f>>=8}for(var c=0;t[c]===o&&c<t.length-1;++c)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function uh(t,e){var r=0,n=e.length,i=e.charAt(0),o=[0];for(r=0;r<t.length();++r){for(var a=0,s=t.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=e[o[r]];return u}});var Bt=z((hg,Qs)=>{var Ws=ut(),Ys=$s(),g=Qs.exports=Ws.util=Ws.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){g.nextTick=process.nextTick,typeof setImmediate=="function"?g.setImmediate=setImmediate:g.setImmediate=g.nextTick;return}if(typeof setImmediate=="function"){g.setImmediate=function(){return setImmediate.apply(void 0,arguments)},g.nextTick=function(s){return setImmediate(s)};return}if(g.setImmediate=function(s){setTimeout(s,0)},typeof window<"u"&&typeof window.postMessage=="function"){let s=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var f=e.slice();e.length=0,f.forEach(function(c){c()})}};var a=s,t="forge.setImmediate",e=[];g.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",s,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(f){f()})}).observe(i,{attributes:!0});var o=g.setImmediate;g.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),o(u)):(e.push(u),e.length===1&&i.setAttribute("a",n=!n))}}g.nextTick=g.setImmediate})();g.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;g.globalScope=function(){return g.isNodejs?globalThis:typeof self>"u"?window:self}();g.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};g.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};g.isArrayBufferView=function(t){return t&&g.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function un(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}g.ByteBuffer=Ao;function Ao(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(g.isArrayBuffer(t)||g.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof Ao||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}g.ByteStringBuffer=Ao;var ch=4096;g.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>ch&&(this.data.substr(0,1),this._constructedStringLength=0)};g.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};g.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};g.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};g.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};g.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};g.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(g.encodeUtf8(t))};g.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};g.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};g.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};g.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};g.ByteStringBuffer.prototype.putInt=function(t,e){un(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};g.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};g.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};g.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};g.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};g.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};g.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};g.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};g.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};g.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};g.ByteStringBuffer.prototype.getInt=function(t){un(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};g.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};g.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};g.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};g.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};g.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};g.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};g.ByteStringBuffer.prototype.copy=function(){var t=g.createBuffer(this.data);return t.read=this.read,t};g.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};g.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};g.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};g.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};g.ByteStringBuffer.prototype.toString=function(){return g.decodeUtf8(this.bytes())};function lh(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=g.isArrayBuffer(t),n=g.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}g.DataBuffer=lh;g.DataBuffer.prototype.length=function(){return this.write-this.read};g.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};g.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};g.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};g.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};g.DataBuffer.prototype.putBytes=function(t,e){if(g.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(g.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof g.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&g.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof g.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var o;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.hex.decode(t,o,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.base64.decode(t,o,this.write),this;if(e==="utf8"&&(t=g.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=g.binary.raw.decode(o),this;if(e==="utf16")return this.accommodate(t.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=g.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};g.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};g.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};g.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};g.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};g.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};g.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};g.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};g.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};g.DataBuffer.prototype.putInt=function(t,e){un(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};g.DataBuffer.prototype.putSignedInt=function(t,e){return un(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};g.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};g.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};g.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};g.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};g.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};g.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};g.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};g.DataBuffer.prototype.getInt=function(t){un(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};g.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};g.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};g.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};g.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};g.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};g.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};g.DataBuffer.prototype.copy=function(){return new g.DataBuffer(this)};g.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};g.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};g.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};g.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};g.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return g.binary.raw.encode(e);if(t==="hex")return g.binary.hex.encode(e);if(t==="base64")return g.binary.base64.encode(e);if(t==="utf8")return g.text.utf8.decode(e);if(t==="utf16")return g.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};g.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=g.encodeUtf8(t)),new g.ByteBuffer(t)};g.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};g.xorBytes=function(t,e,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=t.charCodeAt(a)^e.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+=o,n};g.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};g.bytesToHex=function(t){return g.createBuffer(t).toHex()};g.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ge=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Zs="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";g.encode64=function(t,e){for(var r="",n="",i,o,a,s=0;s<t.length;)i=t.charCodeAt(s++),o=t.charCodeAt(s++),a=t.charCodeAt(s++),r+=He.charAt(i>>2),r+=He.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=He.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":He.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};g.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,o,a=0;a<t.length;)r=Ge[t.charCodeAt(a++)-43],n=Ge[t.charCodeAt(a++)-43],i=Ge[t.charCodeAt(a++)-43],o=Ge[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(e+=String.fromCharCode((i&3)<<6|o)));return e};g.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};g.decodeUtf8=function(t){return decodeURIComponent(escape(t))};g.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Ys.encode,decode:Ys.decode}};g.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};g.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};g.binary.hex.encode=g.bytesToHex;g.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,o=r;for(t.length&1&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n};g.binary.base64.encode=function(t,e){for(var r="",n="",i,o,a,s=0;s<t.byteLength;)i=t[s++],o=t[s++],a=t[s++],r+=He.charAt(i>>2),r+=He.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=He.charAt((o&15)<<2|a>>6),r+=isNaN(a)?"=":He.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};g.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,a,s,u=0,f=r;u<t.length;)i=Ge[t.charCodeAt(u++)-43],o=Ge[t.charCodeAt(u++)-43],a=Ge[t.charCodeAt(u++)-43],s=Ge[t.charCodeAt(u++)-43],n[f++]=i<<2|o>>4,a!==64&&(n[f++]=(o&15)<<4|a>>2,s!==64&&(n[f++]=(a&3)<<6|s));return e?f-r:n.subarray(0,f)};g.binary.base58.encode=function(t,e){return g.binary.baseN.encode(t,Zs,e)};g.binary.base58.decode=function(t,e){return g.binary.baseN.decode(t,Zs,e)};g.text={utf8:{},utf16:{}};g.text.utf8.encode=function(t,e,r){t=g.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};g.text.utf8.decode=function(t){return g.decodeUtf8(String.fromCharCode.apply(null,t))};g.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,a=r,s=0;s<t.length;++s)i[a++]=t.charCodeAt(s),o+=2;return e?o-r:n};g.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};g.deflate=function(t,e,r){if(e=g.decode64(t.deflate(g.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};g.inflate=function(t,e,r){var n=t.inflate(g.encode64(e)).rval;return n===null?null:g.decode64(n)};var Co=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=g.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},To=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(g.decode64(r))),r},hh=function(t,e,r,n){var i=To(t,e);i===null&&(i={}),i[r]=n,Co(t,e,i)},ph=function(t,e,r){var n=To(t,e);return n!==null&&(n=r in n?n[r]:null),n},dh=function(t,e,r){var n=To(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),Co(t,e,n)}},yh=function(t,e){Co(t,e,null)},Yn=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,a=null;for(var s in r){i=r[s];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),o=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),o=!0)}catch(u){a=u}if(o)break}if(!o)throw a;return n};g.setItem=function(t,e,r,n,i){Yn(hh,arguments,i)};g.getItem=function(t,e,r,n){return Yn(ph,arguments,n)};g.removeItem=function(t,e,r,n){Yn(dh,arguments,n)};g.clearItems=function(t,e,r){Yn(yh,arguments,r)};g.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};g.format=function(t){for(var e=/%./g,r,n,i=0,o=[],a=0;r=e.exec(t);){n=t.substring(a,e.lastIndex-2),n.length>0&&o.push(n),a=e.lastIndex;var s=r[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(t.substring(a)),o.join("")};g.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,s=n===void 0?".":n,u=i<0?"-":"",f=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",c=f.length>3?f.length%3:0;return u+(c?f.substr(0,c)+s:"")+f.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-f).toFixed(o).slice(2):"")};g.formatSize=function(t){return t>=1073741824?t=g.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=g.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=g.formatNumber(t/1024,0)+" KiB":t=g.formatNumber(t,0)+" bytes",t};g.bytesFromIP=function(t){return t.indexOf(".")!==-1?g.bytesFromIPv4(t):t.indexOf(":")!==-1?g.bytesFromIPv6(t):null};g.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=g.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};g.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=g.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=g.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};g.bytesToIP=function(t){return t.length===4?g.bytesToIPv4(t):t.length===16?g.bytesToIPv6(t):null};g.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};g.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=g.bytesToHex(t[i]+t[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var a=r[r.length-1],s=e.length;!a||s!==a.end+1?r.push({start:s,end:s}):(a.end=s,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(o)}if(r.length>0){var u=r[n];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};g.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in g&&!t.update)return e(null,g.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return g.cores=navigator.hardwareConcurrency,e(null,g.cores);if(typeof Worker>"u")return g.cores=1,e(null,g.cores);if(typeof Blob>"u")return g.cores=2,e(null,g.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var s=Date.now(),u=s+4;Date.now()<u;);self.postMessage({st:s,et:u})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,s,u){if(s===0){var f=Math.floor(a.reduce(function(c,l){return c+l},0)/a.length);return g.cores=Math.max(1,f),URL.revokeObjectURL(r),e(null,g.cores)}i(u,function(c,l){a.push(o(u,l)),n(a,s-1,u)})}function i(a,s){for(var u=[],f=[],c=0;c<a;++c){var l=new Worker(r);l.addEventListener("message",function(h){if(f.push(h.data),f.length===a){for(var y=0;y<a;++y)u[y].terminate();s(null,f)}}),u.push(l)}for(var c=0;c<a;++c)u[c].postMessage(c)}function o(a,s){for(var u=[],f=0;f<a;++f)for(var c=s[f],l=u[f]=[],h=0;h<a;++h)if(f!==h){var y=s[h];(c.st>y.st&&c.st<y.et||y.st>c.st&&y.st<c.et)&&l.push(h)}return u.reduce(function(p,d){return Math.max(p,d.length)},0)}}});var Zn=z((pg,Xs)=>{var cn=ut();cn.pki=cn.pki||{};var Io=Xs.exports=cn.pki.oids=cn.oids=cn.oids||{};function A(t,e){Io[t]=e,Io[e]=t}function st(t,e){Io[t]=e}A("1.2.840.113549.1.1.1","rsaEncryption");A("1.2.840.113549.1.1.4","md5WithRSAEncryption");A("1.2.840.113549.1.1.5","sha1WithRSAEncryption");A("1.2.840.113549.1.1.7","RSAES-OAEP");A("1.2.840.113549.1.1.8","mgf1");A("1.2.840.113549.1.1.9","pSpecified");A("1.2.840.113549.1.1.10","RSASSA-PSS");A("1.2.840.113549.1.1.11","sha256WithRSAEncryption");A("1.2.840.113549.1.1.12","sha384WithRSAEncryption");A("1.2.840.113549.1.1.13","sha512WithRSAEncryption");A("1.3.101.112","EdDSA25519");A("1.2.840.10040.4.3","dsa-with-sha1");A("1.3.14.3.2.7","desCBC");A("1.3.14.3.2.26","sha1");A("1.3.14.3.2.29","sha1WithRSASignature");A("2.16.840.1.101.3.4.2.1","sha256");A("2.16.840.1.101.3.4.2.2","sha384");A("2.16.840.1.101.3.4.2.3","sha512");A("2.16.840.1.101.3.4.2.4","sha224");A("2.16.840.1.101.3.4.2.5","sha512-224");A("2.16.840.1.101.3.4.2.6","sha512-256");A("1.2.840.113549.2.2","md2");A("1.2.840.113549.2.5","md5");A("1.2.840.113549.1.7.1","data");A("1.2.840.113549.1.7.2","signedData");A("1.2.840.113549.1.7.3","envelopedData");A("1.2.840.113549.1.7.4","signedAndEnvelopedData");A("1.2.840.113549.1.7.5","digestedData");A("1.2.840.113549.1.7.6","encryptedData");A("1.2.840.113549.1.9.1","emailAddress");A("1.2.840.113549.1.9.2","unstructuredName");A("1.2.840.113549.1.9.3","contentType");A("1.2.840.113549.1.9.4","messageDigest");A("1.2.840.113549.1.9.5","signingTime");A("1.2.840.113549.1.9.6","counterSignature");A("1.2.840.113549.1.9.7","challengePassword");A("1.2.840.113549.1.9.8","unstructuredAddress");A("1.2.840.113549.1.9.14","extensionRequest");A("1.2.840.113549.1.9.20","friendlyName");A("1.2.840.113549.1.9.21","localKeyId");A("1.2.840.113549.1.9.22.1","x509Certificate");A("1.2.840.113549.1.12.10.1.1","keyBag");A("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");A("1.2.840.113549.1.12.10.1.3","certBag");A("1.2.840.113549.1.12.10.1.4","crlBag");A("1.2.840.113549.1.12.10.1.5","secretBag");A("1.2.840.113549.1.12.10.1.6","safeContentsBag");A("1.2.840.113549.1.5.13","pkcs5PBES2");A("1.2.840.113549.1.5.12","pkcs5PBKDF2");A("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");A("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");A("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");A("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");A("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");A("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");A("1.2.840.113549.2.7","hmacWithSHA1");A("1.2.840.113549.2.8","hmacWithSHA224");A("1.2.840.113549.2.9","hmacWithSHA256");A("1.2.840.113549.2.10","hmacWithSHA384");A("1.2.840.113549.2.11","hmacWithSHA512");A("1.2.840.113549.3.7","des-EDE3-CBC");A("2.16.840.1.101.3.4.1.2","aes128-CBC");A("2.16.840.1.101.3.4.1.22","aes192-CBC");A("2.16.840.1.101.3.4.1.42","aes256-CBC");A("2.5.4.3","commonName");A("2.5.4.4","surname");A("2.5.4.5","serialNumber");A("2.5.4.6","countryName");A("2.5.4.7","localityName");A("2.5.4.8","stateOrProvinceName");A("2.5.4.9","streetAddress");A("2.5.4.10","organizationName");A("2.5.4.11","organizationalUnitName");A("2.5.4.12","title");A("2.5.4.13","description");A("2.5.4.15","businessCategory");A("2.5.4.17","postalCode");A("2.5.4.42","givenName");A("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");A("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");A("2.16.840.1.113730.1.1","nsCertType");A("2.16.840.1.113730.1.13","nsComment");st("2.5.29.1","authorityKeyIdentifier");st("2.5.29.2","keyAttributes");st("2.5.29.3","certificatePolicies");st("2.5.29.4","keyUsageRestriction");st("2.5.29.5","policyMapping");st("2.5.29.6","subtreesConstraint");st("2.5.29.7","subjectAltName");st("2.5.29.8","issuerAltName");st("2.5.29.9","subjectDirectoryAttributes");st("2.5.29.10","basicConstraints");st("2.5.29.11","nameConstraints");st("2.5.29.12","policyConstraints");st("2.5.29.13","basicConstraints");A("2.5.29.14","subjectKeyIdentifier");A("2.5.29.15","keyUsage");st("2.5.29.16","privateKeyUsagePeriod");A("2.5.29.17","subjectAltName");A("2.5.29.18","issuerAltName");A("2.5.29.19","basicConstraints");st("2.5.29.20","cRLNumber");st("2.5.29.21","cRLReason");st("2.5.29.22","expirationDate");st("2.5.29.23","instructionCode");st("2.5.29.24","invalidityDate");st("2.5.29.25","cRLDistributionPoints");st("2.5.29.26","issuingDistributionPoint");st("2.5.29.27","deltaCRLIndicator");st("2.5.29.28","issuingDistributionPoint");st("2.5.29.29","certificateIssuer");st("2.5.29.30","nameConstraints");A("2.5.29.31","cRLDistributionPoints");A("2.5.29.32","certificatePolicies");st("2.5.29.33","policyMappings");st("2.5.29.34","policyConstraints");A("2.5.29.35","authorityKeyIdentifier");st("2.5.29.36","policyConstraints");A("2.5.29.37","extKeyUsage");st("2.5.29.46","freshestCRL");st("2.5.29.54","inhibitAnyPolicy");A("1.3.6.1.4.1.11129.2.4.2","timestampList");A("1.3.6.1.5.5.7.1.1","authorityInfoAccess");A("1.3.6.1.5.5.7.3.1","serverAuth");A("1.3.6.1.5.5.7.3.2","clientAuth");A("1.3.6.1.5.5.7.3.3","codeSigning");A("1.3.6.1.5.5.7.3.4","emailProtection");A("1.3.6.1.5.5.7.3.8","timeStamping")});var hn=z((dg,js)=>{var ht=ut();Bt();Zn();var R=js.exports=ht.asn1=ht.asn1||{};R.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};R.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};R.create=function(t,e,r,n,i){if(ht.util.isArray(n)){for(var o=[],a=0;a<n.length;++a)n[a]!==void 0&&o.push(n[a]);n=o}var s={tagClass:t,type:e,constructed:r,composed:r||ht.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(s.bitStringContents=i.bitStringContents,s.original=R.copy(s)),s};R.copy=function(t,e){var r;if(ht.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(R.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:R.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};R.equals=function(t,e,r){if(ht.util.isArray(t)){if(!ht.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!R.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&R.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};R.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function ln(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var gh=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;ln(t,e,o),n=t.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};R.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=ht.util.createBuffer(t));var r=t.length(),n=Qn(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function Qn(t,e,r,n){var i;ln(t,e,2);var o=t.getByte();e--;var a=o&192,s=o&31;i=t.length();var u=gh(t,e);if(e-=i-t.length(),u!==void 0&&u>e){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=t.length(),f.remaining=e,f.requested=u,f}u=e}var c,l,h=(o&32)===32;if(h)if(c=[],u===void 0)for(;;){if(ln(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),c.push(Qn(t,e,r+1,n)),e-=i-t.length()}else for(;u>0;)i=t.length(),c.push(Qn(t,u,r+1,n)),e-=i-t.length(),u-=i-t.length();if(c===void 0&&a===R.Class.UNIVERSAL&&s===R.Type.BITSTRING&&(l=t.bytes(u)),c===void 0&&n.decodeBitStrings&&a===R.Class.UNIVERSAL&&s===R.Type.BITSTRING&&u>1){var y=t.read,p=e,d=0;if(s===R.Type.BITSTRING&&(ln(t,e,1),d=t.getByte(),e--),d===0)try{i=t.length();var x={strict:!0,decodeBitStrings:!0},v=Qn(t,e,r+1,x),B=i-t.length();e-=B,s==R.Type.BITSTRING&&B++;var C=v.tagClass;B===u&&(C===R.Class.UNIVERSAL||C===R.Class.CONTEXT_SPECIFIC)&&(c=[v])}catch{}c===void 0&&(t.read=y,e=p)}if(c===void 0){if(u===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(s===R.Type.BMPSTRING)for(c="";u>0;u-=2)ln(t,e,2),c+=String.fromCharCode(t.getInt16()),e-=2;else c=t.getBytes(u),e-=u}var P=l===void 0?null:{bitStringContents:l};return R.create(a,s,h,c,P)}R.toDer=function(t){var e=ht.util.createBuffer(),r=t.tagClass|t.type,n=ht.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=R.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var o=0;o<t.value.length;++o)t.value[o]!==void 0&&n.putBuffer(R.toDer(t.value[o]))}else if(t.type===R.Type.BMPSTRING)for(var o=0;o<t.value.length;++o)n.putInt16(t.value.charCodeAt(o));else t.type===R.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var a=n.length(),s="";do s+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(s.length|128);for(var o=s.length-1;o>=0;--o)e.putByte(s.charCodeAt(o))}return e.putBuffer(n),e};R.oidToDer=function(t){var e=t.split("."),r=ht.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,o,a,s=2;s<e.length;++s){n=!0,i=[],o=parseInt(e[s],10);do a=o&127,o=o>>>7,n||(a|=128),i.push(a),n=!1;while(o>0);for(var u=i.length-1;u>=0;--u)r.putByte(i[u])}return r};R.derToOid=function(t){var e;typeof t=="string"&&(t=ht.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};R.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=0;if(t.length>11){var u=t.charAt(10),f=10;u!=="+"&&u!=="-"&&(s=parseInt(t.substr(10,2),10),f+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,0),f&&(u=t.charAt(f),u==="+"||u==="-")){var c=parseInt(t.substr(f+1,2),10),l=parseInt(t.substr(f+4,2),10),h=c*60+l;h*=6e4,u==="+"?e.setTime(+e-h):e.setTime(+e+h)}return e};R.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),u=0,f=0,c=!1;t.charAt(t.length-1)==="Z"&&(c=!0);var l=t.length-5,h=t.charAt(l);if(h==="+"||h==="-"){var y=parseInt(t.substr(l+1,2),10),p=parseInt(t.substr(l+4,2),10);f=y*60+p,f*=6e4,h==="+"&&(f*=-1),c=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),c?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,a,s,u),e.setTime(+e+f)):(e.setFullYear(r,n,i),e.setHours(o,a,s,u)),e};R.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};R.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};R.integerToDer=function(t){var e=ht.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};R.derToInteger=function(t){typeof t=="string"&&(t=ht.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};R.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&ht.util.isArray(e.value))for(var o=0,a=0;i&&a<e.value.length;++a)i=e.value[a].optional||!1,t.value[o]&&(i=R.validate(t.value[o],e.value[a],r,n),i?++o:e.value[a].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var s;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var u=t.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var Js=/[^\\u0000-\\u00ff]/;R.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",o=0;o<e*r;++o)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case R.Class.UNIVERSAL:n+="Universal:";break;case R.Class.APPLICATION:n+="Application:";break;case R.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case R.Class.PRIVATE:n+="Private:";break}if(t.tagClass===R.Class.UNIVERSAL)switch(n+=t.type,t.type){case R.Type.NONE:n+=" (None)";break;case R.Type.BOOLEAN:n+=" (Boolean)";break;case R.Type.INTEGER:n+=" (Integer)";break;case R.Type.BITSTRING:n+=" (Bit string)";break;case R.Type.OCTETSTRING:n+=" (Octet string)";break;case R.Type.NULL:n+=" (Null)";break;case R.Type.OID:n+=" (Object Identifier)";break;case R.Type.ODESC:n+=" (Object Descriptor)";break;case R.Type.EXTERNAL:n+=" (External or Instance of)";break;case R.Type.REAL:n+=" (Real)";break;case R.Type.ENUMERATED:n+=" (Enumerated)";break;case R.Type.EMBEDDED:n+=" (Embedded PDV)";break;case R.Type.UTF8:n+=" (UTF8)";break;case R.Type.ROID:n+=" (Relative Object Identifier)";break;case R.Type.SEQUENCE:n+=" (Sequence)";break;case R.Type.SET:n+=" (Set)";break;case R.Type.PRINTABLESTRING:n+=" (Printable String)";break;case R.Type.IA5String:n+=" (IA5String (ASCII))";break;case R.Type.UTCTIME:n+=" (UTC time)";break;case R.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case R.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,s="",o=0;o<t.value.length;++o)t.value[o]!==void 0&&(a+=1,s+=R.prettyPrint(t.value[o],e+1,r),o+1<t.value.length&&(s+=","));n+=i+"Sub values: "+a+s}else{if(n+=i+"Value: ",t.type===R.Type.OID){var u=R.derToOid(t.value);n+=u,ht.pki&&ht.pki.oids&&u in ht.pki.oids&&(n+=" ("+ht.pki.oids[u]+") ")}if(t.type===R.Type.INTEGER)try{n+=R.derToInteger(t.value)}catch{n+="0x"+ht.util.bytesToHex(t.value)}else if(t.type===R.Type.BITSTRING){if(t.value.length>1?n+="0x"+ht.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var f=t.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(t.type===R.Type.OCTETSTRING)Js.test(t.value)||(n+="("+t.value+") "),n+="0x"+ht.util.bytesToHex(t.value);else if(t.type===R.Type.UTF8)try{n+=ht.util.decodeUtf8(t.value)}catch(c){if(c.message==="URI malformed")n+="0x"+ht.util.bytesToHex(t.value)+" (malformed UTF8)";else throw c}else t.type===R.Type.PRINTABLESTRING||t.type===R.Type.IA5String?n+=t.value:Js.test(t.value)?n+="0x"+ht.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var Ro=z((yg,t0)=>{var Ct=ut();Bt();t0.exports=Ct.cipher=Ct.cipher||{};Ct.cipher.algorithms=Ct.cipher.algorithms||{};Ct.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Ct.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Ct.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};Ct.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Ct.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Ct.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};Ct.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),Ct.cipher.algorithms[t]=e};Ct.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in Ct.cipher.algorithms?Ct.cipher.algorithms[t]:null};var _o=Ct.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};_o.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=Ct.util.createBuffer(),this.output=t.output||Ct.util.createBuffer(),this.mode.start(e)};_o.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};_o.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var No=z((gg,e0)=>{var Tt=ut();Bt();Tt.cipher=Tt.cipher||{};var Z=e0.exports=Tt.cipher.modes=Tt.cipher.modes||{};Z.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Z.ecb.prototype.start=function(t){};Z.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Z.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Z.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Z.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Z.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Z.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=Xn(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Z.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};Z.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Z.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Z.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Z.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Tt.util.createBuffer(),this._partialBytes=0};Z.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Xn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Z.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Z.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Z.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Tt.util.createBuffer(),this._partialBytes=0};Z.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Xn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Z.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Z.ofb.prototype.decrypt=Z.ofb.prototype.encrypt;Z.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Tt.util.createBuffer(),this._partialBytes=0};Z.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Xn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Z.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Jn(this._inBlock)};Z.ctr.prototype.decrypt=Z.ctr.prototype.encrypt;Z.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Tt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Z.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Tt.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Tt.util.createBuffer(t.additionalData):r=Tt.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Tt.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(ko(n*8)))}this._inBlock=this._j0.slice(0),Jn(this._inBlock),this._partialBytes=0,r=Tt.util.createBuffer(r),this._aDataLength=ko(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Z.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Jn(this._inBlock)};Z.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Jn(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Z.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Tt.util.createBuffer();var n=this._aDataLength.concat(ko(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Z.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var o=t[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Z.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};Z.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,o=this._m[r][i];e[0]^=o[0],e[1]^=o[1],e[2]^=o[2],e[3]^=o[3]}return e};Z.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};Z.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],u=a/n|0,f=(n-1-a%n)*e;s[u]=1<<e-1<<f,o[a]=this.generateSubHashTable(this.multiply(s,t),e)}return o};Z.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],u=i[a];i[o+a]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var f=i[o^n];i[o]=[t[0]^f[0],t[1]^f[1],t[2]^f[2],t[3]^f[3]]}return i};function Xn(t,e){if(typeof t=="string"&&(t=Tt.util.createBuffer(t)),Tt.util.isArray(t)&&t.length>4){var r=t;t=Tt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Tt.util.isArray(t)){for(var i=[],o=e/4,n=0;n<o;++n)i.push(t.getInt32());t=i}return t}function Jn(t){t[t.length-1]=t[t.length-1]+1&4294967295}function ko(t){return[t/4294967296|0,t&4294967295]}});var Po=z((mg,o0)=>{var ct=ut();Ro();No();Bt();o0.exports=ct.aes=ct.aes||{};ct.aes.startEncrypting=function(t,e,r,n){var i=jn({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};ct.aes.createEncryptionCipher=function(t,e){return jn({key:t,output:null,decrypt:!1,mode:e})};ct.aes.startDecrypting=function(t,e,r,n){var i=jn({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};ct.aes.createDecryptionCipher=function(t,e){return jn({key:t,output:null,decrypt:!0,mode:e})};ct.aes.Algorithm=function(t,e){Lo||n0();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return Uo(r._w,n,i,!1)},decrypt:function(n,i){return Uo(r._w,n,i,!0)}}}),r._init=!1};ct.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=ct.util.createBuffer(e);else if(ct.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=ct.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!ct.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!ct.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=i0(e,t.decrypt&&!a),this._init=!0}};ct.aes._expandKey=function(t,e){return Lo||n0(),i0(t,e)};ct.aes._updateBlock=Uo;kr("AES-ECB",ct.cipher.modes.ecb);kr("AES-CBC",ct.cipher.modes.cbc);kr("AES-CFB",ct.cipher.modes.cfb);kr("AES-OFB",ct.cipher.modes.ofb);kr("AES-CTR",ct.cipher.modes.ctr);kr("AES-GCM",ct.cipher.modes.gcm);function kr(t,e){var r=function(){return new ct.aes.Algorithm(t,e)};ct.cipher.registerAlgorithm(t,r)}var Lo=!1,Rr=4,Ft,Do,r0,ar,ae;function n0(){Lo=!0,r0=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Ft=new Array(256),Do=new Array(256),ar=new Array(4),ae=new Array(4);for(var e=0;e<4;++e)ar[e]=new Array(256),ae[e]=new Array(256);for(var r=0,n=0,i,o,a,s,u,f,c,e=0;e<256;++e){s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^s&255^99,Ft[r]=s,Do[s]=r,u=t[s],i=t[r],o=t[i],a=t[o],f=u<<24^s<<16^s<<8^(s^u),c=(i^o^a)<<24^(r^a)<<16^(r^o^a)<<8^(r^i^a);for(var l=0;l<4;++l)ar[l][r]=f,ae[l][s]=c,f=f<<24|f>>>8,c=c<<24|c>>>8;r===0?r=n=1:(r=i^t[t[t[i^a]]],n^=t[t[n]])}}function i0(t,e){for(var r=t.slice(0),n,i=1,o=r.length,a=o+6+1,s=Rr*a,u=o;u<s;++u)n=r[u-1],u%o===0?(n=Ft[n>>>16&255]<<24^Ft[n>>>8&255]<<16^Ft[n&255]<<8^Ft[n>>>24]^r0[i]<<24,i++):o>6&&u%o===4&&(n=Ft[n>>>24]<<24^Ft[n>>>16&255]<<16^Ft[n>>>8&255]<<8^Ft[n&255]),r[u]=r[u-o]^n;if(e){var f,c=ae[0],l=ae[1],h=ae[2],y=ae[3],p=r.slice(0);s=r.length;for(var u=0,d=s-Rr;u<s;u+=Rr,d-=Rr)if(u===0||u===s-Rr)p[u]=r[d],p[u+1]=r[d+3],p[u+2]=r[d+2],p[u+3]=r[d+1];else for(var x=0;x<Rr;++x)f=r[d+x],p[u+(3&-x)]=c[Ft[f>>>24]]^l[Ft[f>>>16&255]]^h[Ft[f>>>8&255]]^y[Ft[f&255]];r=p}return r}function Uo(t,e,r,n){var i=t.length/4-1,o,a,s,u,f;n?(o=ae[0],a=ae[1],s=ae[2],u=ae[3],f=Do):(o=ar[0],a=ar[1],s=ar[2],u=ar[3],f=Ft);var c,l,h,y,p,d,x;c=e[0]^t[0],l=e[n?3:1]^t[1],h=e[2]^t[2],y=e[n?1:3]^t[3];for(var v=3,B=1;B<i;++B)p=o[c>>>24]^a[l>>>16&255]^s[h>>>8&255]^u[y&255]^t[++v],d=o[l>>>24]^a[h>>>16&255]^s[y>>>8&255]^u[c&255]^t[++v],x=o[h>>>24]^a[y>>>16&255]^s[c>>>8&255]^u[l&255]^t[++v],y=o[y>>>24]^a[c>>>16&255]^s[l>>>8&255]^u[h&255]^t[++v],c=p,l=d,h=x;r[0]=f[c>>>24]<<24^f[l>>>16&255]<<16^f[h>>>8&255]<<8^f[y&255]^t[++v],r[n?3:1]=f[l>>>24]<<24^f[h>>>16&255]<<16^f[y>>>8&255]<<8^f[c&255]^t[++v],r[2]=f[h>>>24]<<24^f[y>>>16&255]<<16^f[c>>>8&255]<<8^f[l&255]^t[++v],r[n?1:3]=f[y>>>24]<<24^f[c>>>16&255]<<16^f[l>>>8&255]<<8^f[h&255]^t[++v]}function jn(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=ct.cipher.createDecipher(r,t.key):n=ct.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,a){var s=null;a instanceof ct.util.ByteBuffer&&(s=a,a={}),a=a||{},a.output=s,a.iv=o,i.call(n,a)},n}});var f0=z((xg,s0)=>{var yt=ut();Ro();No();Bt();s0.exports=yt.des=yt.des||{};yt.des.startEncrypting=function(t,e,r,n){var i=ti({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};yt.des.createEncryptionCipher=function(t,e){return ti({key:t,output:null,decrypt:!1,mode:e})};yt.des.startDecrypting=function(t,e,r,n){var i=ti({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};yt.des.createDecryptionCipher=function(t,e){return ti({key:t,output:null,decrypt:!0,mode:e})};yt.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return a0(r._keys,n,i,!1)},decrypt:function(n,i){return a0(r._keys,n,i,!0)}}}),r._init=!1};yt.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=yt.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=Ah(e),this._init=!0}};ge("DES-ECB",yt.cipher.modes.ecb);ge("DES-CBC",yt.cipher.modes.cbc);ge("DES-CFB",yt.cipher.modes.cfb);ge("DES-OFB",yt.cipher.modes.ofb);ge("DES-CTR",yt.cipher.modes.ctr);ge("3DES-ECB",yt.cipher.modes.ecb);ge("3DES-CBC",yt.cipher.modes.cbc);ge("3DES-CFB",yt.cipher.modes.cfb);ge("3DES-OFB",yt.cipher.modes.ofb);ge("3DES-CTR",yt.cipher.modes.ctr);function ge(t,e){var r=function(){return new yt.des.Algorithm(t,e)};yt.cipher.registerAlgorithm(t,r)}var mh=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],xh=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],vh=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],wh=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],bh=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Eh=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Sh=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Bh=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Ah(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],s=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],y=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],d=t.length()>8?3:1,x=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],B=0,C,P=0;P<d;P++){var k=t.getInt32(),I=t.getInt32();C=(k>>>4^I)&252645135,I^=C,k^=C<<4,C=(I>>>-16^k)&65535,k^=C,I^=C<<-16,C=(k>>>2^I)&858993459,I^=C,k^=C<<2,C=(I>>>-16^k)&65535,k^=C,I^=C<<-16,C=(k>>>1^I)&1431655765,I^=C,k^=C<<1,C=(I>>>8^k)&16711935,k^=C,I^=C<<8,C=(k>>>1^I)&1431655765,I^=C,k^=C<<1,C=k<<8|I>>>20&240,k=I<<24|I<<8&16711680|I>>>8&65280|I>>>24&240,I=C;for(var G=0;G<v.length;++G){v[G]?(k=k<<2|k>>>26,I=I<<2|I>>>26):(k=k<<1|k>>>27,I=I<<1|I>>>27),k&=-15,I&=-15;var T=e[k>>>28]|r[k>>>24&15]|n[k>>>20&15]|i[k>>>16&15]|o[k>>>12&15]|a[k>>>8&15]|s[k>>>4&15],F=u[I>>>28]|f[I>>>24&15]|c[I>>>20&15]|l[I>>>16&15]|h[I>>>12&15]|y[I>>>8&15]|p[I>>>4&15];C=(F>>>16^T)&65535,x[B++]=T^C,x[B++]=F^C<<16}}return x}function a0(t,e,r,n){var i=t.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,s=e[0],u=e[1];a=(s>>>4^u)&252645135,u^=a,s^=a<<4,a=(s>>>16^u)&65535,u^=a,s^=a<<16,a=(u>>>2^s)&858993459,s^=a,u^=a<<2,a=(u>>>8^s)&16711935,s^=a,u^=a<<8,a=(s>>>1^u)&1431655765,u^=a,s^=a<<1,s=s<<1|s>>>31,u=u<<1|u>>>31;for(var f=0;f<i;f+=3){for(var c=o[f+1],l=o[f+2],h=o[f];h!=c;h+=l){var y=u^t[h],p=(u>>>4|u<<28)^t[h+1];a=s,s=u,u=a^(xh[y>>>24&63]|wh[y>>>16&63]|Eh[y>>>8&63]|Bh[y&63]|mh[p>>>24&63]|vh[p>>>16&63]|bh[p>>>8&63]|Sh[p&63])}a=s,s=u,u=a}s=s>>>1|s<<31,u=u>>>1|u<<31,a=(s>>>1^u)&1431655765,u^=a,s^=a<<1,a=(u>>>8^s)&16711935,s^=a,u^=a<<8,a=(u>>>2^s)&858993459,s^=a,u^=a<<2,a=(s>>>16^u)&65535,u^=a,s^=a<<16,a=(s>>>4^u)&252645135,u^=a,s^=a<<4,r[0]=s,r[1]=u}function ti(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=yt.cipher.createDecipher(r,t.key):n=yt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,a){var s=null;a instanceof yt.util.ByteBuffer&&(s=a,a={}),a=a||{},a.output=s,a.iv=o,i.call(n,a)},n}});var sr=z((vg,u0)=>{var ei=ut();u0.exports=ei.md=ei.md||{};ei.md.algorithms=ei.md.algorithms||{}});var l0=z((wg,c0)=>{var ke=ut();sr();Bt();var Ch=c0.exports=ke.hmac=ke.hmac||{};Ch.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(o,a){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in ke.md.algorithms)e=ke.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else e=o;if(a===null)a=t;else{if(typeof a=="string")a=ke.util.createBuffer(a);else if(ke.util.isArray(a)){var s=a;a=ke.util.createBuffer();for(var u=0;u<s.length;++u)a.putByte(s[u])}var f=a.length();f>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=ke.util.createBuffer(),n=ke.util.createBuffer(),f=a.length();for(var u=0;u<f;++u){var s=a.at(u);r.putByte(54^s),n.putByte(92^s)}if(f<e.blockLength)for(var s=e.blockLength-f,u=0;u<s;++u)r.putByte(54),n.putByte(92);t=a,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(o){e.update(o)},i.getMac=function(){var o=e.digest().bytes();return e.start(),e.update(n),e.update(o),e.digest()},i.digest=i.getMac,i}});var Nr=z(()=>{});var p0=z((Sg,h0)=>{var Kt=ut();l0();sr();Bt();var Th=Kt.pkcs5=Kt.pkcs5||{},Ne;Kt.util.isNodejs&&!Kt.options.usePureJavaScript&&(Ne=Nr());h0.exports=Kt.pbkdf2=Th.pbkdf2=function(t,e,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),Kt.util.isNodejs&&!Kt.options.usePureJavaScript&&Ne.pbkdf2&&(i===null||typeof i!="object")&&(Ne.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),o?Ne.pbkdf2Sync.length===4?Ne.pbkdf2(t,e,r,n,function(C,P){if(C)return o(C);o(null,P.toString("binary"))}):Ne.pbkdf2(t,e,r,n,i,function(C,P){if(C)return o(C);o(null,P.toString("binary"))}):Ne.pbkdf2Sync.length===4?Ne.pbkdf2Sync(t,e,r,n).toString("binary"):Ne.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Kt.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Kt.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var s=new Error("Derived key is too long.");if(o)return o(s);throw s}var u=Math.ceil(n/a),f=n-(u-1)*a,c=Kt.hmac.create();c.start(i,t);var l="",h,y,p;if(!o){for(var d=1;d<=u;++d){c.start(null,null),c.update(e),c.update(Kt.util.int32ToBytes(d)),h=p=c.digest().getBytes();for(var x=2;x<=r;++x)c.start(null,null),c.update(p),y=c.digest().getBytes(),h=Kt.util.xorBytes(h,y,a),p=y;l+=d<u?h:h.substr(0,f)}return l}var d=1,x;function v(){if(d>u)return o(null,l);c.start(null,null),c.update(e),c.update(Kt.util.int32ToBytes(d)),h=p=c.digest().getBytes(),x=2,B()}function B(){if(x<=r)return c.start(null,null),c.update(p),y=c.digest().getBytes(),h=Kt.util.xorBytes(h,y,a),p=y,++x,Kt.util.setImmediate(B);l+=d<u?h:h.substr(0,f),++d,v()}v()}});var g0=z((Bg,y0)=>{var ni=ut();Bt();var d0=y0.exports=ni.pem=ni.pem||{};d0.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=ri(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=ri(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=ri(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=ri(t.headers[i]);return t.procType&&(r+=`\r
`),r+=ni.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};d0.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(t),!!o;){var a=o[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var s={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:ni.util.decode64(o[3])};if(e.push(s),!!o[2]){for(var u=o[2].split(i),f=0;o&&f<u.length;){for(var c=u[f].replace(/\s+$/,""),l=f+1;l<u.length;++l){var h=u[l];if(!/\s/.test(h[0]))break;c+=h,f=l}if(o=c.match(n),o){for(var y={name:o[1],values:[]},p=o[2].split(","),d=0;d<p.length;++d)y.values.push(Ih(p[d]));if(s.procType)if(!s.contentDomain&&y.name==="Content-Domain")s.contentDomain=p[0]||"";else if(!s.dekInfo&&y.name==="DEK-Info"){if(y.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:p[0],parameters:p[1]||null}}else s.headers.push(y);else{if(y.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(y.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:p[0],type:p[1]}}}++f}if(s.procType==="ENCRYPTED"&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function ri(t){for(var e=t.name+": ",r=[],n=function(u,f){return" "+f},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var o=0,a=-1,i=0;i<e.length;++i,++o)if(o>65&&a!==-1){var s=e[a];s===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+s+e.substr(a+1),o=i-a-1,a=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(a=i);return e}function Ih(t){return t.replace(/^\s+/,"")}});var E0=z((Ag,b0)=>{var me=ut();sr();Bt();var x0=b0.exports=me.sha256=me.sha256||{};me.md.sha256=me.md.algorithms.sha256=x0;x0.create=function(){v0||_h();var t=null,e=me.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=me.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=me.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=a[1],a[1]=a[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),m0(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=me.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(Fo.substr(0,n.blockLength-a));for(var s,u,f=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)s=n.fullMessageLength[c+1]*8,u=s/4294967296>>>0,f+=u,i.putInt32(f>>>0),f=s>>>0;i.putInt32(f);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};m0(l,r,i);var h=me.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h.putInt32(l.h5),h.putInt32(l.h6),h.putInt32(l.h7),h},n};var Fo=null,v0=!1,w0=null;function _h(){Fo=String.fromCharCode(128),Fo+=me.util.fillString(String.fromCharCode(0),64),w0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v0=!0}function m0(t,e,r){for(var n,i,o,a,s,u,f,c,l,h,y,p,d,x,v,B=r.length();B>=64;){for(f=0;f<16;++f)e[f]=r.getInt32();for(;f<64;++f)n=e[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[f-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[f]=n+e[f-7]+i+e[f-16]|0;for(c=t.h0,l=t.h1,h=t.h2,y=t.h3,p=t.h4,d=t.h5,x=t.h6,v=t.h7,f=0;f<64;++f)a=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),s=x^p&(d^x),o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),u=c&l|h&(c^l),n=v+a+s+w0[f]+e[f],i=o+u,v=x,x=d,d=p,p=y+n>>>0,y=h,h=l,l=c,c=n+i>>>0;t.h0=t.h0+c|0,t.h1=t.h1+l|0,t.h2=t.h2+h|0,t.h3=t.h3+y|0,t.h4=t.h4+p|0,t.h5=t.h5+d|0,t.h6=t.h6+x|0,t.h7=t.h7+v|0,B-=64}}});var B0=z((Cg,S0)=>{var xe=ut();Bt();var ii=null;xe.util.isNodejs&&!xe.options.usePureJavaScript&&!process.versions["node-webkit"]&&(ii=Nr());var Rh=S0.exports=xe.prng=xe.prng||{};Rh.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(f,c){if(!c)return e.generateSync(f);var l=e.plugin.cipher,h=e.plugin.increment,y=e.plugin.formatKey,p=e.plugin.formatSeed,d=xe.util.createBuffer();e.key=null,x();function x(v){if(v)return c(v);if(d.length()>=f)return c(null,d.getBytes(f));if(e.generated>1048575&&(e.key=null),e.key===null)return xe.util.nextTick(function(){o(x)});var B=l(e.key,e.seed);e.generated+=B.length,d.putBytes(B),e.key=y(l(e.key,h(e.seed))),e.seed=p(l(e.key,e.seed)),xe.util.setImmediate(x)}},e.generateSync=function(f){var c=e.plugin.cipher,l=e.plugin.increment,h=e.plugin.formatKey,y=e.plugin.formatSeed;e.key=null;for(var p=xe.util.createBuffer();p.length()<f;){e.generated>1048575&&(e.key=null),e.key===null&&a();var d=c(e.key,e.seed);e.generated+=d.length,p.putBytes(d),e.key=h(c(e.key,l(e.seed))),e.seed=y(c(e.key,e.seed))}return p.getBytes(f)};function o(f){if(e.pools[0].messageLength>=32)return s(),f();var c=32-e.pools[0].messageLength<<5;e.seedFile(c,function(l,h){if(l)return f(l);e.collect(h),s(),f()})}function a(){if(e.pools[0].messageLength>=32)return s();var f=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(f)),s()}function s(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var f=e.plugin.md.create();f.update(e.keyBytes);for(var c=1,l=0;l<32;++l)e.reseeds%c===0&&(f.update(e.pools[l].digest().getBytes()),e.pools[l].start()),c=c<<1;e.keyBytes=f.digest().getBytes(),f.start(),f.update(e.keyBytes);var h=f.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(h),e.generated=0}function u(f){var c=null,l=xe.util.globalScope,h=l.crypto||l.msCrypto;h&&h.getRandomValues&&(c=function(k){return h.getRandomValues(k)});var y=xe.util.createBuffer();if(c)for(;y.length()<f;){var p=Math.max(1,Math.min(f-y.length(),65536)/4),d=new Uint32Array(Math.floor(p));try{c(d);for(var x=0;x<d.length;++x)y.putInt32(d[x])}catch(k){if(!(typeof QuotaExceededError<"u"&&k instanceof QuotaExceededError))throw k}}if(y.length()<f)for(var v,B,C,P=Math.floor(Math.random()*65536);y.length()<f;){B=16807*(P&65535),v=16807*(P>>16),B+=(v&32767)<<16,B+=v>>15,B=(B&2147483647)+(B>>31),P=B&4294967295;for(var x=0;x<3;++x)C=P>>>(x<<3),C^=Math.floor(Math.random()*256),y.putByte(C&255)}return y.getBytes(f)}return ii?(e.seedFile=function(f,c){ii.randomBytes(f,function(l,h){if(l)return c(l);c(null,h.toString())})},e.seedFileSync=function(f){return ii.randomBytes(f).toString()}):(e.seedFile=function(f,c){try{c(null,u(f))}catch(l){c(l)}},e.seedFileSync=u),e.collect=function(f){for(var c=f.length,l=0;l<c;++l)e.pools[e.pool].update(f.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(f,c){for(var l="",h=0;h<c;h+=8)l+=String.fromCharCode(f>>h&255);e.collect(l)},e.registerWorker=function(f){if(f===self)e.seedFile=function(l,h){function y(p){var d=p.data;d.forge&&d.forge.prng&&(self.removeEventListener("message",y),h(d.forge.prng.err,d.forge.prng.bytes))}self.addEventListener("message",y),self.postMessage({forge:{prng:{needed:l}}})};else{var c=function(l){var h=l.data;h.forge&&h.forge.prng&&e.seedFile(h.forge.prng.needed,function(y,p){f.postMessage({forge:{prng:{err:y,bytes:p}}})})};f.addEventListener("message",c)}},e}});var pn=z((Tg,Ko)=>{var It=ut();Po();E0();B0();Bt();(function(){if(It.random&&It.random.getBytes){Ko.exports=It.random;return}(function(t){var e={},r=new Array(4),n=It.util.createBuffer();e.formatKey=function(l){var h=It.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),It.aes._expandKey(l,!1)},e.formatSeed=function(l){var h=It.util.createBuffer(l);return l=new Array(4),l[0]=h.getInt32(),l[1]=h.getInt32(),l[2]=h.getInt32(),l[3]=h.getInt32(),l},e.cipher=function(l,h){return It.aes._updateBlock(l,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(l){return++l[3],l},e.md=It.md.sha256;function i(){var l=It.prng.create(e);return l.getBytes=function(h,y){return l.generate(h,y)},l.getBytesSync=function(h){return l.generate(h)},l}var o=i(),a=null,s=It.util.globalScope,u=s.crypto||s.msCrypto;if(u&&u.getRandomValues&&(a=function(l){return u.getRandomValues(l)}),It.options.usePureJavaScript||!It.util.isNodejs&&!a){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var f="";for(var c in navigator)try{typeof navigator[c]=="string"&&(f+=navigator[c])}catch{}o.collect(f),f=null}t&&(t().mousemove(function(l){o.collectInt(l.clientX,16),o.collectInt(l.clientY,16)}),t().keypress(function(l){o.collectInt(l.charCode,8)}))}if(!It.random)It.random=o;else for(var c in o)It.random[c]=o[c];It.random.createInstance=i,Ko.exports=It.random})(typeof jQuery<"u"?jQuery:null)})()});var I0=z((Ig,T0)=>{var Ot=ut();Bt();var Mo=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],A0=[1,2,3,5],kh=function(t,e){return t<<e&65535|(t&65535)>>16-e},Nh=function(t,e){return(t&65535)>>e|t<<16-e&65535};T0.exports=Ot.rc2=Ot.rc2||{};Ot.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Ot.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,o=Math.ceil(i/8),a=255>>(i&7),s;for(s=n;s<128;s++)r.putByte(Mo[r.at(s-1)+r.at(s-n)&255]);for(r.setAt(128-o,Mo[r.at(128-o)&a]),s=127-o;s>=0;s--)r.setAt(s,Mo[r.at(s+1)^r.at(s+o)]);return r};var C0=function(t,e,r){var n=!1,i=null,o=null,a=null,s,u,f,c,l=[];for(t=Ot.rc2.expandKey(t,e),f=0;f<64;f++)l.push(t.getInt16Le());r?(s=function(p){for(f=0;f<4;f++)p[f]+=l[c]+(p[(f+3)%4]&p[(f+2)%4])+(~p[(f+3)%4]&p[(f+1)%4]),p[f]=kh(p[f],A0[f]),c++},u=function(p){for(f=0;f<4;f++)p[f]+=l[p[(f+3)%4]&63]}):(s=function(p){for(f=3;f>=0;f--)p[f]=Nh(p[f],A0[f]),p[f]-=l[c]+(p[(f+3)%4]&p[(f+2)%4])+(~p[(f+3)%4]&p[(f+1)%4]),c--},u=function(p){for(f=3;f>=0;f--)p[f]-=l[p[(f+3)%4]&63]});var h=function(p){var d=[];for(f=0;f<4;f++){var x=i.getInt16Le();a!==null&&(r?x^=a.getInt16Le():a.putInt16Le(x)),d.push(x&65535)}c=r?0:63;for(var v=0;v<p.length;v++)for(var B=0;B<p[v][0];B++)p[v][1](d);for(f=0;f<4;f++)a!==null&&(r?a.putInt16Le(d[f]):d[f]^=a.getInt16Le()),o.putInt16Le(d[f])},y=null;return y={start:function(p,d){p&&typeof p=="string"&&(p=Ot.util.createBuffer(p)),n=!1,i=Ot.util.createBuffer(),o=d||new Ot.util.createBuffer,a=p,y.output=o},update:function(p){for(n||i.putBuffer(p);i.length()>=8;)h([[5,s],[1,u],[6,s],[1,u],[5,s]])},finish:function(p){var d=!0;if(r)if(p)d=p(8,i,!r);else{var x=i.length()===8?8:8-i.length();i.fillWithByte(x,x)}if(d&&(n=!0,y.update()),!r&&(d=i.length()===0,d))if(p)d=p(8,o,!r);else{var v=o.length(),B=o.at(v-1);B>v?d=!1:o.truncate(B)}return d}},y};Ot.rc2.startEncrypting=function(t,e,r){var n=Ot.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Ot.rc2.createEncryptionCipher=function(t,e){return C0(t,e,!0)};Ot.rc2.startDecrypting=function(t,e,r){var n=Ot.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Ot.rc2.createDecryptionCipher=function(t,e){return C0(t,e,!1)}});var si=z((_g,P0)=>{var Oo=ut();P0.exports=Oo.jsbn=Oo.jsbn||{};var De,Dh=0xdeadbeefcafe,_0=(Dh&16777215)==15715070;function E(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}Oo.jsbn.BigInteger=E;function rt(){return new E(null)}function Uh(t,e,r,n,i,o){for(;--o>=0;){var a=e*this.data[t++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=a&67108863}return i}function Lh(t,e,r,n,i,o){for(var a=e&32767,s=e>>15;--o>=0;){var u=this.data[t]&32767,f=this.data[t++]>>15,c=s*u+f*a;u=a*u+((c&32767)<<15)+r.data[n]+(i&1073741823),i=(u>>>30)+(c>>>15)+s*f+(i>>>30),r.data[n++]=u&1073741823}return i}function R0(t,e,r,n,i,o){for(var a=e&16383,s=e>>14;--o>=0;){var u=this.data[t]&16383,f=this.data[t++]>>14,c=s*u+f*a;u=a*u+((c&16383)<<14)+r.data[n]+i,i=(u>>28)+(c>>14)+s*f,r.data[n++]=u&268435455}return i}typeof navigator>"u"?(E.prototype.am=R0,De=28):_0&&navigator.appName=="Microsoft Internet Explorer"?(E.prototype.am=Lh,De=30):_0&&navigator.appName!="Netscape"?(E.prototype.am=Uh,De=26):(E.prototype.am=R0,De=28);E.prototype.DB=De;E.prototype.DM=(1<<De)-1;E.prototype.DV=1<<De;var Vo=52;E.prototype.FV=Math.pow(2,Vo);E.prototype.F1=Vo-De;E.prototype.F2=2*De-Vo;var Ph="0123456789abcdefghijklmnopqrstuvwxyz",oi=new Array,Dr,jt;Dr="0".charCodeAt(0);for(jt=0;jt<=9;++jt)oi[Dr++]=jt;Dr="a".charCodeAt(0);for(jt=10;jt<36;++jt)oi[Dr++]=jt;Dr="A".charCodeAt(0);for(jt=10;jt<36;++jt)oi[Dr++]=jt;function k0(t){return Ph.charAt(t)}function N0(t,e){var r=oi[t.charCodeAt(e)];return r??-1}function Fh(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function Kh(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function $e(t){var e=rt();return e.fromInt(t),e}function Mh(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var a=r==8?t[n]&255:N0(t,n);if(a<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&t[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&E.ZERO.subTo(this,this)}function Oh(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function Vh(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,o="",a=this.t,s=this.DB-a*this.DB%e;if(a-- >0)for(s<this.DB&&(n=this.data[a]>>s)>0&&(i=!0,o=k0(n));a>=0;)s<e?(n=(this.data[a]&(1<<s)-1)<<e-s,n|=this.data[--a]>>(s+=this.DB-e)):(n=this.data[a]>>(s-=e)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=k0(n));return i?o:"0"}function qh(){var t=rt();return E.ZERO.subTo(this,t),t}function zh(){return this.s<0?this.negate():this}function Hh(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function ai(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Gh(){return this.t<=0?0:this.DB*(this.t-1)+ai(this.data[this.t-1]^this.s&this.DM)}function $h(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function Wh(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Yh(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),a=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s)e.data[s+o+1]=this.data[s]>>n|a,a=(this.data[s]&i)<<r;for(s=o-1;s>=0;--s)e.data[s]=0;e.data[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()}function Zh(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&o)<<i,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}function Qh(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Xh(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&E.ZERO.subTo(e,e)}function Jh(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function jh(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=rt());var o=rt(),a=this.s,s=t.s,u=this.DB-ai(n.data[n.t-1]);u>0?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var f=o.t,c=o.data[f-1];if(c!=0){var l=c*(1<<this.F1)+(f>1?o.data[f-2]>>this.F2:0),h=this.FV/l,y=(1<<this.F1)/l,p=1<<this.F2,d=r.t,x=d-f,v=e??rt();for(o.dlShiftTo(x,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),E.ONE.dlShiftTo(f,v),v.subTo(o,o);o.t<f;)o.data[o.t++]=0;for(;--x>=0;){var B=r.data[--d]==c?this.DM:Math.floor(r.data[d]*h+(r.data[d-1]+p)*y);if((r.data[d]+=o.am(0,B,r,x,0,f))<B)for(o.dlShiftTo(x,v),r.subTo(v,r);r.data[d]<--B;)r.subTo(v,r)}e!=null&&(r.drShiftTo(f,e),a!=s&&E.ZERO.subTo(e,e)),r.t=f,r.clamp(),u>0&&r.rShiftTo(u,r),a<0&&E.ZERO.subTo(r,r)}}}function tp(t){var e=rt();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(E.ZERO)>0&&t.subTo(e,e),e}function fr(t){this.m=t}function ep(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function rp(t){return t}function np(t){t.divRemTo(this.m,null,t)}function ip(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function op(t,e){t.squareTo(e),this.reduce(e)}fr.prototype.convert=ep;fr.prototype.revert=rp;fr.prototype.reduce=np;fr.prototype.mulTo=ip;fr.prototype.sqrTo=op;function ap(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function ur(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function sp(t){var e=rt();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(E.ZERO)>0&&this.m.subTo(e,e),e}function fp(t){var e=rt();return t.copyTo(e),this.reduce(e),e}function up(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function cp(t,e){t.squareTo(e),this.reduce(e)}function lp(t,e,r){t.multiplyTo(e,r),this.reduce(r)}ur.prototype.convert=sp;ur.prototype.revert=fp;ur.prototype.reduce=up;ur.prototype.mulTo=lp;ur.prototype.sqrTo=cp;function hp(){return(this.t>0?this.data[0]&1:this.s)==0}function pp(t,e){if(t>4294967295||t<1)return E.ONE;var r=rt(),n=rt(),i=e.convert(this),o=ai(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var a=r;r=n,n=a}return e.revert(r)}function dp(t,e){var r;return t<256||e.isEven()?r=new fr(e):r=new ur(e),this.exp(t,r)}E.prototype.copyTo=Fh;E.prototype.fromInt=Kh;E.prototype.fromString=Mh;E.prototype.clamp=Oh;E.prototype.dlShiftTo=$h;E.prototype.drShiftTo=Wh;E.prototype.lShiftTo=Yh;E.prototype.rShiftTo=Zh;E.prototype.subTo=Qh;E.prototype.multiplyTo=Xh;E.prototype.squareTo=Jh;E.prototype.divRemTo=jh;E.prototype.invDigit=ap;E.prototype.isEven=hp;E.prototype.exp=pp;E.prototype.toString=Vh;E.prototype.negate=qh;E.prototype.abs=zh;E.prototype.compareTo=Hh;E.prototype.bitLength=Gh;E.prototype.mod=tp;E.prototype.modPowInt=dp;E.ZERO=$e(0);E.ONE=$e(1);function yp(){var t=rt();return this.copyTo(t),t}function gp(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function mp(){return this.t==0?this.s:this.data[0]<<24>>24}function xp(){return this.t==0?this.s:this.data[0]<<16>>16}function vp(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function wp(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function bp(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=$e(r),i=rt(),o=rt(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(t).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(t)+a}function Ep(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,a=0,s=0;s<t.length;++s){var u=N0(t,s);if(u<0){t.charAt(s)=="-"&&this.signum()==0&&(i=!0);continue}a=e*a+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0)}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),i&&E.ZERO.subTo(this,this)}function Sp(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(E.ONE.shiftLeft(t-1),qo,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(E.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function Bp(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function Ap(t){return this.compareTo(t)==0}function Cp(t){return this.compareTo(t)<0?this:t}function Tp(t){return this.compareTo(t)>0?this:t}function Ip(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function _p(t,e){return t&e}function Rp(t){var e=rt();return this.bitwiseTo(t,_p,e),e}function qo(t,e){return t|e}function kp(t){var e=rt();return this.bitwiseTo(t,qo,e),e}function D0(t,e){return t^e}function Np(t){var e=rt();return this.bitwiseTo(t,D0,e),e}function U0(t,e){return t&~e}function Dp(t){var e=rt();return this.bitwiseTo(t,U0,e),e}function Up(){for(var t=rt(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function Lp(t){var e=rt();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Pp(t){var e=rt();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Fp(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function Kp(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Fp(this.data[t]);return this.s<0?this.t*this.DB:-1}function Mp(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Op(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Mp(this.data[r]^e);return t}function Vp(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function qp(t,e){var r=E.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function zp(t){return this.changeBit(t,qo)}function Hp(t){return this.changeBit(t,U0)}function Gp(t){return this.changeBit(t,D0)}function $p(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function Wp(t){var e=rt();return this.addTo(t,e),e}function Yp(t){var e=rt();return this.subTo(t,e),e}function Zp(t){var e=rt();return this.multiplyTo(t,e),e}function Qp(t){var e=rt();return this.divRemTo(t,e,null),e}function Xp(t){var e=rt();return this.divRemTo(t,null,e),e}function Jp(t){var e=rt(),r=rt();return this.divRemTo(t,e,r),new Array(e,r)}function jp(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function td(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function dn(){}function L0(t){return t}function ed(t,e,r){t.multiplyTo(e,r)}function rd(t,e){t.squareTo(e)}dn.prototype.convert=L0;dn.prototype.revert=L0;dn.prototype.mulTo=ed;dn.prototype.sqrTo=rd;function nd(t){return this.exp(t,new dn)}function id(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function od(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Ur(t){this.r2=rt(),this.q3=rt(),E.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function ad(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=rt();return t.copyTo(e),this.reduce(e),e}function sd(t){return t}function fd(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function ud(t,e){t.squareTo(e),this.reduce(e)}function cd(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Ur.prototype.convert=ad;Ur.prototype.revert=sd;Ur.prototype.reduce=fd;Ur.prototype.mulTo=cd;Ur.prototype.sqrTo=ud;function ld(t,e){var r=t.bitLength(),n,i=$e(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new fr(e):e.isEven()?o=new Ur(e):o=new ur(e);var a=new Array,s=3,u=n-1,f=(1<<n)-1;if(a[1]=o.convert(this),n>1){var c=rt();for(o.sqrTo(a[1],c);s<=f;)a[s]=rt(),o.mulTo(c,a[s-2],a[s]),s+=2}var l=t.t-1,h,y=!0,p=rt(),d;for(r=ai(t.data[l])-1;l>=0;){for(r>=u?h=t.data[l]>>r-u&f:(h=(t.data[l]&(1<<r+1)-1)<<u-r,l>0&&(h|=t.data[l-1]>>this.DB+r-u)),s=n;!(h&1);)h>>=1,--s;if((r-=s)<0&&(r+=this.DB,--l),y)a[h].copyTo(i),y=!1;else{for(;s>1;)o.sqrTo(i,p),o.sqrTo(p,i),s-=2;s>0?o.sqrTo(i,p):(d=i,i=p,p=d),o.mulTo(p,a[h],i)}for(;l>=0&&!(t.data[l]&1<<r);)o.sqrTo(i,p),d=i,i=p,p=d,--r<0&&(r=this.DB-1,--l)}return o.revert(i)}function hd(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function pd(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function dd(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return E.ZERO;for(var r=t.clone(),n=this.clone(),i=$e(1),o=$e(0),a=$e(0),s=$e(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?((!a.isEven()||!s.isEven())&&(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),e&&a.subTo(i,a),s.subTo(o,s))}if(n.compareTo(E.ONE)!=0)return E.ZERO;if(s.compareTo(t)>=0)return s.subtract(t);if(s.signum()<0)s.addTo(t,s);else return s;return s.signum()<0?s.add(t):s}var se=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],yd=(1<<26)/se[se.length-1];function gd(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=se[se.length-1]){for(e=0;e<se.length;++e)if(r.data[0]==se[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<se.length;){for(var n=se[e],i=e+1;i<se.length&&n<yd;)n*=se[i++];for(n=r.modInt(n);e<i;)if(n%se[e++]==0)return!1}return r.millerRabin(t)}function md(t){var e=this.subtract(E.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=xd(),o,a=0;a<t;++a){do o=new E(this.bitLength(),i);while(o.compareTo(E.ONE)<=0||o.compareTo(e)>=0);var s=o.modPow(n,this);if(s.compareTo(E.ONE)!=0&&s.compareTo(e)!=0){for(var u=1;u++<r&&s.compareTo(e)!=0;)if(s=s.modPowInt(2,this),s.compareTo(E.ONE)==0)return!1;if(s.compareTo(e)!=0)return!1}}return!0}function xd(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}E.prototype.chunkSize=vp;E.prototype.toRadix=bp;E.prototype.fromRadix=Ep;E.prototype.fromNumber=Sp;E.prototype.bitwiseTo=Ip;E.prototype.changeBit=qp;E.prototype.addTo=$p;E.prototype.dMultiply=jp;E.prototype.dAddOffset=td;E.prototype.multiplyLowerTo=id;E.prototype.multiplyUpperTo=od;E.prototype.modInt=pd;E.prototype.millerRabin=md;E.prototype.clone=yp;E.prototype.intValue=gp;E.prototype.byteValue=mp;E.prototype.shortValue=xp;E.prototype.signum=wp;E.prototype.toByteArray=Bp;E.prototype.equals=Ap;E.prototype.min=Cp;E.prototype.max=Tp;E.prototype.and=Rp;E.prototype.or=kp;E.prototype.xor=Np;E.prototype.andNot=Dp;E.prototype.not=Up;E.prototype.shiftLeft=Lp;E.prototype.shiftRight=Pp;E.prototype.getLowestSetBit=Kp;E.prototype.bitCount=Op;E.prototype.testBit=Vp;E.prototype.setBit=zp;E.prototype.clearBit=Hp;E.prototype.flipBit=Gp;E.prototype.add=Wp;E.prototype.subtract=Yp;E.prototype.multiply=Zp;E.prototype.divide=Qp;E.prototype.remainder=Xp;E.prototype.divideAndRemainder=Jp;E.prototype.modPow=ld;E.prototype.modInverse=dd;E.prototype.pow=nd;E.prototype.gcd=hd;E.prototype.isProbablePrime=gd});var V0=z((Rg,O0)=>{var ve=ut();sr();Bt();var K0=O0.exports=ve.sha1=ve.sha1||{};ve.md.sha1=ve.md.algorithms.sha1=K0;K0.create=function(){M0||vd();var t=null,e=ve.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=ve.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=ve.util.encodeUtf8(i));var a=i.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=a[1],a[1]=a[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(i),F0(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=ve.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=o&n.blockLength-1;i.putBytes(zo.substr(0,n.blockLength-a));for(var s,u,f=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)s=n.fullMessageLength[c+1]*8,u=s/4294967296>>>0,f+=u,i.putInt32(f>>>0),f=s>>>0;i.putInt32(f);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};F0(l,r,i);var h=ve.util.createBuffer();return h.putInt32(l.h0),h.putInt32(l.h1),h.putInt32(l.h2),h.putInt32(l.h3),h.putInt32(l.h4),h},n};var zo=null,M0=!1;function vd(){zo=String.fromCharCode(128),zo+=ve.util.fillString(String.fromCharCode(0),64),M0=!0}function F0(t,e,r){for(var n,i,o,a,s,u,f,c,l=r.length();l>=64;){for(i=t.h0,o=t.h1,a=t.h2,s=t.h3,u=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,f=s^o&(a^s),n=(i<<5|i>>>27)+f+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<20;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,f=s^o&(a^s),n=(i<<5|i>>>27)+f+u+1518500249+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<32;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,f=o^a^s,n=(i<<5|i>>>27)+f+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<40;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,f=o^a^s,n=(i<<5|i>>>27)+f+u+1859775393+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<60;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,f=o&a|s&(o^a),n=(i<<5|i>>>27)+f+u+2400959708+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;c<80;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,f=o^a^s,n=(i<<5|i>>>27)+f+u+3395469782+n,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+a|0,t.h3=t.h3+s|0,t.h4=t.h4+u|0,l-=64}}});var H0=z((kg,z0)=>{var we=ut();Bt();pn();V0();var q0=z0.exports=we.pkcs1=we.pkcs1||{};q0.encode_rsa_oaep=function(t,e,r){var n,i,o,a;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),o?o.start():o=we.md.sha1.create(),a||(a=o);var s=Math.ceil(t.n.bitLength()/8),u=s-2*o.digestLength-2;if(e.length>u){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=e.length,f.maxLength=u,f}n||(n=""),o.update(n,"raw");for(var c=o.digest(),l="",h=u-e.length,y=0;y<h;y++)l+="\0";var p=c.getBytes()+l+""+e;if(!i)i=we.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=i.length,f.digestLength=o.digestLength,f}var d=fi(i,s-o.digestLength-1,a),x=we.util.xorBytes(p,d,p.length),v=fi(x,o.digestLength,a),B=we.util.xorBytes(i,v,i.length);return"\0"+B+x};q0.decode_rsa_oaep=function(t,e,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var x=new Error("RSAES-OAEP encoded message length is invalid.");throw x.length=e.length,x.expectedLength=a,x}if(i===void 0?i=we.md.sha1.create():i.start(),o||(o=i),a<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var s=i.digest().getBytes(),u=e.charAt(0),f=e.substring(1,i.digestLength+1),c=e.substring(1+i.digestLength),l=fi(c,i.digestLength,o),h=we.util.xorBytes(f,l,f.length),y=fi(h,a-i.digestLength-1,o),p=we.util.xorBytes(c,y,c.length),d=p.substring(0,i.digestLength),x=u!=="\0",v=0;v<i.digestLength;++v)x|=s.charAt(v)!==d.charAt(v);for(var B=1,C=i.digestLength,P=i.digestLength;P<p.length;P++){var k=p.charCodeAt(P),I=k&1^1,G=B?65534:0;x|=k&G,B=B&I,C+=B}if(x||p.charCodeAt(C)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(C+1)};function fi(t,e,r){r||(r=we.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(t+a),n+=r.digest().getBytes()}return n.substring(0,e)}});var G0=z((Ng,Ho)=>{var We=ut();Bt();si();pn();(function(){if(We.prime){Ho.exports=We.prime;return}var t=Ho.exports=We.prime=We.prime||{},e=We.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(l,h){return l|h};t.generateProbablePrime=function(l,h,y){typeof h=="function"&&(y=h,h={}),h=h||{};var p=h.algorithm||"PRIMEINC";typeof p=="string"&&(p={name:p}),p.options=p.options||{};var d=h.prng||We.random,x={nextBytes:function(v){for(var B=d.getBytesSync(v.length),C=0;C<v.length;++C)v[C]=B.charCodeAt(C)}};if(p.name==="PRIMEINC")return o(l,x,p.options,y);throw new Error("Invalid prime generation algorithm: "+p.name)};function o(l,h,y,p){return"workers"in y?u(l,h,y,p):a(l,h,y,p)}function a(l,h,y,p){var d=f(l,h),x=0,v=c(d.bitLength());"millerRabinTests"in y&&(v=y.millerRabinTests);var B=10;"maxBlockTime"in y&&(B=y.maxBlockTime),s(d,l,h,x,v,B,p)}function s(l,h,y,p,d,x,v){var B=+new Date;do{if(l.bitLength()>h&&(l=f(h,y)),l.isProbablePrime(d))return v(null,l);l.dAddOffset(r[p++%8],0)}while(x<0||+new Date-B<x);We.util.setImmediate(function(){s(l,h,y,p,d,x,v)})}function u(l,h,y,p){if(typeof Worker>"u")return a(l,h,y,p);var d=f(l,h),x=y.workers,v=y.workLoad||100,B=v*30/8,C=y.workerScript||"forge/prime.worker.js";if(x===-1)return We.util.estimateCores(function(k,I){k&&(I=2),x=I-1,P()});P();function P(){x=Math.max(1,x);for(var k=[],I=0;I<x;++I)k[I]=new Worker(C);for(var G=x,I=0;I<x;++I)k[I].addEventListener("message",F);var T=!1;function F($){if(!T){--G;var V=$.data;if(V.found){for(var O=0;O<k.length;++O)k[O].terminate();return T=!0,p(null,new e(V.prime,16))}d.bitLength()>l&&(d=f(l,h));var at=d.toString(16);$.target.postMessage({hex:at,workLoad:v}),d.dAddOffset(B,0)}}}}function f(l,h){var y=new e(l,h),p=l-1;return y.testBit(p)||y.bitwiseTo(e.ONE.shiftLeft(p),i,y),y.dAddOffset(31-y.mod(n).byteValue(),0),y}function c(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var ci=z((Dg,J0)=>{var M=ut();hn();si();Zn();H0();G0();pn();Bt();typeof X>"u"&&(X=M.jsbn.BigInteger);var X,Go=M.util.isNodejs?Nr():null,m=M.asn1,te=M.util;M.pki=M.pki||{};J0.exports=M.pki.rsa=M.rsa=M.rsa||{};var H=M.pki,wd=[6,4,2,4,2,4,6,2],bd={name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Ed={name:"RSAPrivateKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Sd={name:"RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Bd=M.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Ad={name:"DigestInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:m.Class.UNIVERSAL,type:m.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Cd=function(t){var e;if(t.algorithm in H.oids)e=H.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=m.oidToDer(e).getBytes(),i=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]),o=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);o.value.push(m.create(m.Class.UNIVERSAL,m.Type.OID,!1,n)),o.value.push(m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,""));var a=m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(o),i.value.push(a),m.toDer(i).getBytes()},Q0=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(X.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(X.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new X(M.util.bytesToHex(M.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(X.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),o=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(o)<0;)i=i.add(e.p);var a=i.subtract(o).multiply(e.qInv).mod(e.p).multiply(e.q).add(o);return a=a.multiply(n.modInverse(e.n)).mod(e.n),a};H.rsa.encrypt=function(t,e,r){var n=r,i,o=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=X0(t,e,r)):(i=M.util.createBuffer(),i.putBytes(t));for(var a=new X(i.toHex(),16),s=Q0(a,e,n),u=s.toString(16),f=M.util.createBuffer(),c=o-Math.ceil(u.length/2);c>0;)f.putByte(0),--c;return f.putBytes(M.util.hexToBytes(u)),f.getBytes()};H.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=t.length,o.expected=i,o}var a=new X(M.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var s=Q0(a,e,r),u=s.toString(16),f=M.util.createBuffer(),c=i-Math.ceil(u.length/2);c>0;)f.putByte(0),--c;return f.putBytes(M.util.hexToBytes(u)),n!==!1?ui(f.getBytes(),e,r):f.getBytes()};H.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||M.random,i={nextBytes:function(s){for(var u=n.getBytesSync(s.length),f=0;f<s.length;++f)s[f]=u.charCodeAt(f)}},o=r.algorithm||"PRIMEINC",a;if(o==="PRIMEINC")a={algorithm:o,state:0,bits:t,rng:i,eInt:e||65537,e:new X(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+o);return a};H.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new X(null);r.fromInt(30);for(var n=0,i=function(l,h){return l|h},o=+new Date,a,s=0;t.keys===null&&(e<=0||s<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,f=u-1;t.pqState===0?(t.num=new X(u,t.rng),t.num.testBit(f)||t.num.bitwiseTo(X.ONE.shiftLeft(f),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(Id(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(wd[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(X.ONE).gcd(t.e).compareTo(X.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(X.ONE),t.q1=t.q.subtract(X.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(X.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var c=t.e.modInverse(t.phi);t.keys={privateKey:H.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:H.rsa.setPublicKey(t.n,t.e)}}a=+new Date,s+=a-o,o=a}return t.keys!==null};H.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!M.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if($0("generateKeyPair"))return Go.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(s,u,f){if(s)return n(s);n(null,{privateKey:H.privateKeyFromPem(f),publicKey:H.publicKeyFromPem(u)})});if(W0("generateKey")&&W0("exportKey"))return te.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Z0(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(s){return te.globalScope.crypto.subtle.exportKey("pkcs8",s.privateKey)}).then(void 0,function(s){n(s)}).then(function(s){if(s){var u=H.privateKeyFromAsn1(m.fromDer(M.util.createBuffer(s)));n(null,{privateKey:u,publicKey:H.setRsaPublicKey(u.n,u.e)})}});if(Y0("generateKey")&&Y0("exportKey")){var i=te.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Z0(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(s){var u=s.target.result,f=te.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);f.oncomplete=function(c){var l=c.target.result,h=H.privateKeyFromAsn1(m.fromDer(M.util.createBuffer(l)));n(null,{privateKey:h,publicKey:H.setRsaPublicKey(h.n,h.e)})},f.onerror=function(c){n(c)}},i.onerror=function(s){n(s)};return}}else if($0("generateKeyPairSync")){var o=Go.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:H.privateKeyFromPem(o.privateKey),publicKey:H.publicKeyFromPem(o.publicKey)}}}var a=H.rsa.createKeyPairGenerationState(t,e,r);if(!n)return H.rsa.stepKeyPairGenerationState(a,0),a.keys;Td(a,r,n)};H.setRsaPublicKey=H.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(s,u,f){return X0(s,u,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(s,u){return M.pkcs1.encode_rsa_oaep(u,s,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(s){return s}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var a=i.encode(n,r,!0);return H.rsa.encrypt(a,r,!0)},r.verify=function(n,i,o,a){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(u,f){f=ui(f,r,!0);var c=m.fromDer(f,{parseAllBytes:a._parseAllDigestBytes}),l={},h=[];if(!m.validate(c,Ad,l,h)){var y=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw y.errors=h,y}var p=m.derToOid(l.algorithmIdentifier);if(!(p===M.oids.md2||p===M.oids.md5||p===M.oids.sha1||p===M.oids.sha224||p===M.oids.sha256||p===M.oids.sha384||p===M.oids.sha512||p===M.oids["sha512-224"]||p===M.oids["sha512-256"])){var y=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw y.oid=p,y}if((p===M.oids.md2||p===M.oids.md5)&&!("parameters"in l))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return u===l.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(u,f){return f=ui(f,r,!0),u===f}});var s=H.rsa.decrypt(i,r,!0,!1);return o.verify(n,s,r.n.bitLength())},r};H.setRsaPrivateKey=H.rsa.setPrivateKey=function(t,e,r,n,i,o,a,s){var u={n:t,e,d:r,p:n,q:i,dP:o,dQ:a,qInv:s};return u.decrypt=function(f,c,l){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var h=H.rsa.decrypt(f,u,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:ui};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(y,p){return M.pkcs1.decode_rsa_oaep(p,y,l)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(y){return y}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(h,u,!1)},u.sign=function(f,c){var l=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:Cd},l=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return f}},l=1);var h=c.encode(f,u.n.bitLength());return H.rsa.encrypt(h,u,l)},u};H.wrapRsaPrivateKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(H.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,m.toDer(t).getBytes())])};H.privateKeyFromAsn1=function(t){var e={},r=[];if(m.validate(t,bd,e,r)&&(t=m.fromDer(M.util.createBuffer(e.privateKey))),e={},r=[],!m.validate(t,Ed,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,a,s,u,f,c,l;return i=M.util.createBuffer(e.privateKeyModulus).toHex(),o=M.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=M.util.createBuffer(e.privateKeyPrivateExponent).toHex(),s=M.util.createBuffer(e.privateKeyPrime1).toHex(),u=M.util.createBuffer(e.privateKeyPrime2).toHex(),f=M.util.createBuffer(e.privateKeyExponent1).toHex(),c=M.util.createBuffer(e.privateKeyExponent2).toHex(),l=M.util.createBuffer(e.privateKeyCoefficient).toHex(),H.setRsaPrivateKey(new X(i,16),new X(o,16),new X(a,16),new X(s,16),new X(u,16),new X(f,16),new X(c,16),new X(l,16))};H.privateKeyToAsn1=H.privateKeyToRSAPrivateKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,be(t.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,be(t.e)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,be(t.d)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,be(t.p)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,be(t.q)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,be(t.dP)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,be(t.dQ)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,be(t.qInv))])};H.publicKeyFromAsn1=function(t){var e={},r=[];if(m.validate(t,Bd,e,r)){var n=m.derToOid(e.publicKeyOid);if(n!==H.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!m.validate(t,Sd,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=M.util.createBuffer(e.publicKeyModulus).toHex(),a=M.util.createBuffer(e.publicKeyExponent).toHex();return H.setRsaPublicKey(new X(o,16),new X(a,16))};H.publicKeyToAsn1=H.publicKeyToSubjectPublicKeyInfo=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(H.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,[H.publicKeyToRSAPublicKey(t)])])};H.publicKeyToRSAPublicKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,be(t.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,be(t.e))])};function X0(t,e,r){var n=M.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a=i-3-t.length,s;if(r===0||r===1){s=r===0?0:255;for(var u=0;u<a;++u)n.putByte(s)}else for(;a>0;){for(var f=0,c=M.random.getBytes(a),u=0;u<a;++u)s=c.charCodeAt(u),s===0?++f:n.putByte(s);a=f}return n.putByte(0),n.putBytes(t),n}function ui(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),o=M.util.createBuffer(t),a=o.getByte(),s=o.getByte();if(a!==0||r&&s!==0&&s!==1||!r&&s!=2||r&&s===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var u=0;if(s===0){u=i-3-n;for(var f=0;f<u;++f)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(s===1)for(u=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++u}else if(s===2)for(u=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++u}var c=o.getByte();if(c!==0||u!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function Td(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){o(t.pBits,function(s,u){if(s)return r(s);if(t.p=u,t.q!==null)return a(s,t.q);o(t.qBits,a)})}function o(s,u){M.prime.generateProbablePrime(s,n,u)}function a(s,u){if(s)return r(s);if(t.q=u,t.p.compareTo(t.q)<0){var f=t.p;t.p=t.q,t.q=f}if(t.p.subtract(X.ONE).gcd(t.e).compareTo(X.ONE)!==0){t.p=null,i();return}if(t.q.subtract(X.ONE).gcd(t.e).compareTo(X.ONE)!==0){t.q=null,o(t.qBits,a);return}if(t.p1=t.p.subtract(X.ONE),t.q1=t.q.subtract(X.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(X.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,o(t.qBits,a);return}var c=t.e.modInverse(t.phi);t.keys={privateKey:H.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:H.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function be(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=M.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function Id(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function $0(t){return M.util.isNodejs&&typeof Go[t]=="function"}function W0(t){return typeof te.globalScope<"u"&&typeof te.globalScope.crypto=="object"&&typeof te.globalScope.crypto.subtle=="object"&&typeof te.globalScope.crypto.subtle[t]=="function"}function Y0(t){return typeof te.globalScope<"u"&&typeof te.globalScope.msCrypto=="object"&&typeof te.globalScope.msCrypto.subtle=="object"&&typeof te.globalScope.msCrypto.subtle[t]=="function"}function Z0(t){for(var e=M.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var of=z((Ug,nf)=>{var N=ut();Po();hn();f0();sr();Zn();p0();g0();pn();I0();ci();Bt();typeof j0>"u"&&(j0=N.jsbn.BigInteger);var j0,w=N.asn1,W=N.pki=N.pki||{};nf.exports=W.pbe=N.pbe=N.pbe||{};var cr=W.oids,_d={name:"EncryptedPrivateKeyInfo",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Rd={name:"PBES2Algorithms",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:w.Class.UNIVERSAL,type:w.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},kd={name:"pkcs-12PbeParams",tagClass:w.Class.UNIVERSAL,type:w.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:w.Class.UNIVERSAL,type:w.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:w.Class.UNIVERSAL,type:w.Type.INTEGER,constructed:!1,capture:"iterations"}]};W.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=N.random.getBytesSync(r.saltSize),i=r.count,o=w.integerToDer(i),a,s,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,c,l;switch(r.algorithm){case"aes128":a=16,f=16,c=cr["aes128-CBC"],l=N.aes.createEncryptionCipher;break;case"aes192":a=24,f=16,c=cr["aes192-CBC"],l=N.aes.createEncryptionCipher;break;case"aes256":a=32,f=16,c=cr["aes256-CBC"],l=N.aes.createEncryptionCipher;break;case"des":a=8,f=8,c=cr.desCBC,l=N.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var y="hmacWith"+r.prfAlgorithm.toUpperCase(),p=rf(y),d=N.pkcs5.pbkdf2(e,n,i,a,p),x=N.random.getBytesSync(f),v=l(d);v.start(x),v.update(w.toDer(t)),v.finish(),u=v.output.getBytes();var B=Nd(n,o,a,y);s=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(cr.pkcs5PBES2).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(cr.pkcs5PBKDF2).getBytes()),B]),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(c).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,x)])])])}else if(r.algorithm==="3des"){a=24;var C=new N.util.ByteBuffer(n),d=W.pbe.generatePkcs12Key(e,C,1,i,a),x=W.pbe.generatePkcs12Key(e,C,2,i,a),v=N.des.createEncryptionCipher(d);v.start(x),v.update(w.toDer(t)),v.finish(),u=v.output.getBytes(),s=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(cr["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,n),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,o.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var P=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[s,w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,u)]);return P};W.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!w.validate(t,_d,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=w.derToOid(n.encryptionOid),s=W.pbe.getCipher(a,n.encryptionParams,e),u=N.util.createBuffer(n.encryptedData);return s.update(u),s.finish()&&(r=w.fromDer(s.output)),r};W.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:w.toDer(t).getBytes()};return N.pem.encode(r,{maxline:e})};W.encryptedPrivateKeyFromPem=function(t){var e=N.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return w.fromDer(e.body)};W.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=W.wrapRsaPrivateKey(W.privateKeyToAsn1(t));return n=W.encryptPrivateKeyInfo(n,e,r),W.encryptedPrivateKeyToPem(n)}var i,o,a,s;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=N.random.getBytesSync(16),s=N.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=N.random.getBytesSync(16),s=N.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=N.random.getBytesSync(16),s=N.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=N.random.getBytesSync(8),s=N.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=N.random.getBytesSync(8),s=N.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var f=N.pbe.opensslDeriveBytes(e,o.substr(0,8),a),c=s(f);c.start(o),c.update(w.toDer(W.privateKeyToAsn1(t))),c.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:N.util.bytesToHex(o).toUpperCase()},body:c.output.getBytes()};return N.pem.encode(l)};W.decryptRsaPrivateKey=function(t,e){var r=null,n=N.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,a;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,a=N.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,a=N.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,a=N.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,a=N.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,a=N.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,a=function(l){return N.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":o=8,a=function(l){return N.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":o=16,a=function(l){return N.rc2.createDecryptionCipher(l,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var s=N.util.hexToBytes(n.dekInfo.parameters),u=N.pbe.opensslDeriveBytes(e,s.substr(0,8),o),f=a(u);if(f.start(s),f.update(N.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=W.decryptPrivateKeyInfo(w.fromDer(r),e):r=w.fromDer(r),r!==null&&(r=W.privateKeyFromAsn1(r)),r};W.pbe.generatePkcs12Key=function(t,e,r,n,i,o){var a,s;if(typeof o>"u"||o===null){if(!("sha1"in N.md))throw new Error('"sha1" hash algorithm unavailable.');o=N.md.sha1.create()}var u=o.digestLength,f=o.blockLength,c=new N.util.ByteBuffer,l=new N.util.ByteBuffer;if(t!=null){for(s=0;s<t.length;s++)l.putInt16(t.charCodeAt(s));l.putInt16(0)}var h=l.length(),y=e.length(),p=new N.util.ByteBuffer;p.fillWithByte(r,f);var d=f*Math.ceil(y/f),x=new N.util.ByteBuffer;for(s=0;s<d;s++)x.putByte(e.at(s%y));var v=f*Math.ceil(h/f),B=new N.util.ByteBuffer;for(s=0;s<v;s++)B.putByte(l.at(s%h));var C=x;C.putBuffer(B);for(var P=Math.ceil(i/u),k=1;k<=P;k++){var I=new N.util.ByteBuffer;I.putBytes(p.bytes()),I.putBytes(C.bytes());for(var G=0;G<n;G++)o.start(),o.update(I.getBytes()),I=o.digest();var T=new N.util.ByteBuffer;for(s=0;s<f;s++)T.putByte(I.at(s%u));var F=Math.ceil(y/f)+Math.ceil(h/f),$=new N.util.ByteBuffer;for(a=0;a<F;a++){var V=new N.util.ByteBuffer(C.getBytes(f)),O=511;for(s=T.length()-1;s>=0;s--)O=O>>8,O+=T.at(s)+V.at(s),V.setAt(s,O&255);$.putBuffer(V)}C=$,c.putBuffer(I)}return c.truncate(c.length()-i),c};W.pbe.getCipher=function(t,e,r){switch(t){case W.oids.pkcs5PBES2:return W.pbe.getCipherForPBES2(t,e,r);case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case W.oids["pbewithSHAAnd40BitRC2-CBC"]:return W.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};W.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!w.validate(e,Rd,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(t=w.derToOid(n.kdfOid),t!==W.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=t,o.supportedOids=["pkcs5PBKDF2"],o}if(t=w.derToOid(n.encOid),t!==W.oids["aes128-CBC"]&&t!==W.oids["aes192-CBC"]&&t!==W.oids["aes256-CBC"]&&t!==W.oids["des-EDE3-CBC"]&&t!==W.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=t,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var a=n.kdfSalt,s=N.util.createBuffer(n.kdfIterationCount);s=s.getInt(s.length()<<3);var u,f;switch(W.oids[t]){case"aes128-CBC":u=16,f=N.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,f=N.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,f=N.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,f=N.des.createDecryptionCipher;break;case"desCBC":u=8,f=N.des.createDecryptionCipher;break}var c=ef(n.prfOid),l=N.pkcs5.pbkdf2(r,a,s,u,c),h=n.encIv,y=f(l);return y.start(h),y};W.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!w.validate(e,kd,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=N.util.createBuffer(n.salt),s=N.util.createBuffer(n.iterations);s=s.getInt(s.length()<<3);var u,f,c;switch(t){case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,f=8,c=N.des.startDecrypting;break;case W.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,f=8,c=function(d,x){var v=N.rc2.createDecryptionCipher(d,40);return v.start(x,null),v};break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=t,o}var l=ef(n.prfOid),h=W.pbe.generatePkcs12Key(r,a,1,s,u,l);l.start();var y=W.pbe.generatePkcs12Key(r,a,2,s,f,l);return c(h,y)};W.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in N.md))throw new Error('"md5" hash algorithm unavailable.');n=N.md.md5.create()}e===null&&(e="");for(var i=[tf(n,t+e)],o=16,a=1;o<r;++a,o+=16)i.push(tf(n,i[a-1]+t+e));return i.join("").substr(0,r)};function tf(t,e){return t.start().update(e).digest().getBytes()}function ef(t){var e;if(!t)e="hmacWithSHA1";else if(e=W.oids[w.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return rf(e)}function rf(t){var e=N.md;switch(t){case"hmacWithSHA224":e=N.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function Nd(t,e,r,n){var i=w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OCTETSTRING,!1,t),w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(w.create(w.Class.UNIVERSAL,w.Type.INTEGER,!1,N.util.hexToBytes(r.toString(16))),w.create(w.Class.UNIVERSAL,w.Type.SEQUENCE,!0,[w.create(w.Class.UNIVERSAL,w.Type.OID,!1,w.oidToDer(W.oids[n]).getBytes()),w.create(w.Class.UNIVERSAL,w.Type.NULL,!1,"")])),i}});var Vt=z((Lg,sf)=>{"use strict";function af(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Dd(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return af(t,r)}catch{r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),af(new i,r)}}sf.exports=Dd});var yf=z((gm,df)=>{var pt=ut();sr();Bt();var yn=df.exports=pt.sha512=pt.sha512||{};pt.md.sha512=pt.md.algorithms.sha512=yn;var hf=pt.sha384=pt.sha512.sha384=pt.sha512.sha384||{};hf.create=function(){return yn.create("SHA-384")};pt.md.sha384=pt.md.algorithms.sha384=hf;pt.sha512.sha256=pt.sha512.sha256||{create:function(){return yn.create("SHA-512/256")}};pt.md["sha512/256"]=pt.md.algorithms["sha512/256"]=pt.sha512.sha256;pt.sha512.sha224=pt.sha512.sha224||{create:function(){return yn.create("SHA-512/224")}};pt.md["sha512/224"]=pt.md.algorithms["sha512/224"]=pt.sha512.sha224;yn.create=function(t){if(pf||Md(),typeof t>"u"&&(t="SHA-512"),!(t in lr))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=lr[t],r=null,n=pt.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var s={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength128=[];for(var u=s.messageLengthSize/4,f=0;f<u;++f)s.fullMessageLength.push(0);n=pt.util.createBuffer(),r=new Array(e.length);for(var f=0;f<e.length;++f)r[f]=e[f].slice(0);return s},s.start(),s.update=function(u,f){f==="utf8"&&(u=pt.util.encodeUtf8(u));var c=u.length;s.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var l=s.fullMessageLength.length-1;l>=0;--l)s.fullMessageLength[l]+=c[1],c[1]=c[0]+(s.fullMessageLength[l]/4294967296>>>0),s.fullMessageLength[l]=s.fullMessageLength[l]>>>0,c[0]=c[1]/4294967296>>>0;return n.putBytes(u),lf(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),s},s.digest=function(){var u=pt.util.createBuffer();u.putBytes(n.bytes());var f=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,c=f&s.blockLength-1;u.putBytes(Wo.substr(0,s.blockLength-c));for(var l,h,y=s.fullMessageLength[0]*8,p=0;p<s.fullMessageLength.length-1;++p)l=s.fullMessageLength[p+1]*8,h=l/4294967296>>>0,y+=h,u.putInt32(y>>>0),y=l>>>0;u.putInt32(y);for(var d=new Array(r.length),p=0;p<r.length;++p)d[p]=r[p].slice(0);lf(d,i,u);var x=pt.util.createBuffer(),v;t==="SHA-512"?v=d.length:t==="SHA-384"?v=d.length-2:v=d.length-4;for(var p=0;p<v;++p)x.putInt32(d[p][0]),(p!==v-1||t!=="SHA-512/224")&&x.putInt32(d[p][1]);return x},s};var Wo=null,pf=!1,Yo=null,lr=null;function Md(){Wo=String.fromCharCode(128),Wo+=pt.util.fillString(String.fromCharCode(0),128),Yo=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],lr={},lr["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],lr["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],lr["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],lr["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],pf=!0}function lf(t,e,r){for(var n,i,o,a,s,u,f,c,l,h,y,p,d,x,v,B,C,P,k,I,G,T,F,$,V,O,at,lt,q,Y,L,Ht,he,Li,Pi,Ia=r.length();Ia>=128;){for(q=0;q<16;++q)e[q][0]=r.getInt32()>>>0,e[q][1]=r.getInt32()>>>0;for(;q<80;++q)Ht=e[q-2],Y=Ht[0],L=Ht[1],n=((Y>>>19|L<<13)^(L>>>29|Y<<3)^Y>>>6)>>>0,i=((Y<<13|L>>>19)^(L<<3|Y>>>29)^(Y<<26|L>>>6))>>>0,Li=e[q-15],Y=Li[0],L=Li[1],o=((Y>>>1|L<<31)^(Y>>>8|L<<24)^Y>>>7)>>>0,a=((Y<<31|L>>>1)^(Y<<24|L>>>8)^(Y<<25|L>>>7))>>>0,he=e[q-7],Pi=e[q-16],L=i+he[1]+a+Pi[1],e[q][0]=n+he[0]+o+Pi[0]+(L/4294967296>>>0)>>>0,e[q][1]=L>>>0;for(d=t[0][0],x=t[0][1],v=t[1][0],B=t[1][1],C=t[2][0],P=t[2][1],k=t[3][0],I=t[3][1],G=t[4][0],T=t[4][1],F=t[5][0],$=t[5][1],V=t[6][0],O=t[6][1],at=t[7][0],lt=t[7][1],q=0;q<80;++q)f=((G>>>14|T<<18)^(G>>>18|T<<14)^(T>>>9|G<<23))>>>0,c=((G<<18|T>>>14)^(G<<14|T>>>18)^(T<<23|G>>>9))>>>0,l=(V^G&(F^V))>>>0,h=(O^T&($^O))>>>0,s=((d>>>28|x<<4)^(x>>>2|d<<30)^(x>>>7|d<<25))>>>0,u=((d<<4|x>>>28)^(x<<30|d>>>2)^(x<<25|d>>>7))>>>0,y=(d&v|C&(d^v))>>>0,p=(x&B|P&(x^B))>>>0,L=lt+c+h+Yo[q][1]+e[q][1],n=at+f+l+Yo[q][0]+e[q][0]+(L/4294967296>>>0)>>>0,i=L>>>0,L=u+p,o=s+y+(L/4294967296>>>0)>>>0,a=L>>>0,at=V,lt=O,V=F,O=$,F=G,$=T,L=I+i,G=k+n+(L/4294967296>>>0)>>>0,T=L>>>0,k=C,I=P,C=v,P=B,v=d,B=x,L=i+a,d=n+o+(L/4294967296>>>0)>>>0,x=L>>>0;L=t[0][1]+x,t[0][0]=t[0][0]+d+(L/4294967296>>>0)>>>0,t[0][1]=L>>>0,L=t[1][1]+B,t[1][0]=t[1][0]+v+(L/4294967296>>>0)>>>0,t[1][1]=L>>>0,L=t[2][1]+P,t[2][0]=t[2][0]+C+(L/4294967296>>>0)>>>0,t[2][1]=L>>>0,L=t[3][1]+I,t[3][0]=t[3][0]+k+(L/4294967296>>>0)>>>0,t[3][1]=L>>>0,L=t[4][1]+T,t[4][0]=t[4][0]+G+(L/4294967296>>>0)>>>0,t[4][1]=L>>>0,L=t[5][1]+$,t[5][0]=t[5][0]+F+(L/4294967296>>>0)>>>0,t[5][1]=L>>>0,L=t[6][1]+O,t[6][0]=t[6][0]+V+(L/4294967296>>>0)>>>0,t[6][1]=L>>>0,L=t[7][1]+lt,t[7][0]=t[7][0]+at+(L/4294967296>>>0)>>>0,t[7][1]=L>>>0,Ia-=128}}});var cu=z((ax,uu)=>{var Wr=1e3,Yr=Wr*60,Zr=Yr*60,gr=Zr*24,Fy=gr*7,Ky=gr*365.25;uu.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return My(t);if(r==="number"&&isFinite(t))return e.long?Vy(t):Oy(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function My(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Ky;case"weeks":case"week":case"w":return r*Fy;case"days":case"day":case"d":return r*gr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Zr;case"minutes":case"minute":case"mins":case"min":case"m":return r*Yr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Wr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Oy(t){var e=Math.abs(t);return e>=gr?Math.round(t/gr)+"d":e>=Zr?Math.round(t/Zr)+"h":e>=Yr?Math.round(t/Yr)+"m":e>=Wr?Math.round(t/Wr)+"s":t+"ms"}function Vy(t){var e=Math.abs(t);return e>=gr?Si(t,e,gr,"day"):e>=Zr?Si(t,e,Zr,"hour"):e>=Yr?Si(t,e,Yr,"minute"):e>=Wr?Si(t,e,Wr,"second"):t+" ms"}function Si(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var hu=z((sx,lu)=>{function qy(t){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=i,r.enabled=a,r.humanize=cu(),r.destroy=f,Object.keys(t).forEach(c=>{r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){let l=0;for(let h=0;h<c.length;h++)l=(l<<5)-l+c.charCodeAt(h),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(c){let l,h=null,y,p;function d(...x){if(!d.enabled)return;let v=d,B=Number(new Date),C=B-(l||B);v.diff=C,v.prev=l,v.curr=B,l=B,x[0]=r.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let P=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(I,G)=>{if(I==="%%")return"%";P++;let T=r.formatters[G];if(typeof T=="function"){let F=x[P];I=T.call(v,F),x.splice(P,1),P--}return I}),r.formatArgs.call(v,x),(v.log||r.log).apply(v,x)}return d.namespace=c,d.useColors=r.useColors(),d.color=r.selectColor(c),d.extend=n,d.destroy=r.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(y!==r.namespaces&&(y=r.namespaces,p=r.enabled(c)),p),set:x=>{h=x}}),typeof r.init=="function"&&r.init(d),d}function n(c,l){let h=r(this.namespace+(typeof l>"u"?":":l)+c);return h.log=this.log,h}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let l,h=(typeof c=="string"?c:"").split(/[\s,]+/),y=h.length;for(l=0;l<y;l++)h[l]&&(c=h[l].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function o(){let c=[...r.names.map(s),...r.skips.map(s).map(l=>"-"+l)].join(",");return r.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let l,h;for(l=0,h=r.skips.length;l<h;l++)if(r.skips[l].test(c))return!1;for(l=0,h=r.names.length;l<h;l++)if(r.names[l].test(c))return!0;return!1}function s(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}lu.exports=qy});var pu=z((Wt,Bi)=>{Wt.formatArgs=Hy;Wt.save=Gy;Wt.load=$y;Wt.useColors=zy;Wt.storage=Wy();Wt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Wt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function zy(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Hy(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Bi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Wt.log=console.debug||console.log||(()=>{});function Gy(t){try{t?Wt.storage.setItem("debug",t):Wt.storage.removeItem("debug")}catch{}}function $y(){let t;try{t=Wt.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Wy(){try{return localStorage}catch{}}Bi.exports=hu()(Wt);var{formatters:Yy}=Bi.exports;Yy.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var U1={};kt(U1,{create:()=>_1,createWithExpiration:()=>R1,getLocalKey:()=>N1,marshal:()=>kc,namespace:()=>Fc,namespaceLength:()=>I1,peerIdFromRoutingKey:()=>Uc,peerIdToRoutingKey:()=>Dc,unmarshal:()=>Nc});var Ca=Q(Ra(),1);var ka=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var qi={};kt(qi,{identity:()=>Qc});function Gc(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var s=t.length,u=t.charAt(0),f=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var d=0,x=0,v=0,B=p.length;v!==B&&p[v]===0;)v++,d++;for(var C=(B-v)*c+1>>>0,P=new Uint8Array(C);v!==B;){for(var k=p[v],I=0,G=C-1;(k!==0||I<x)&&G!==-1;G--,I++)k+=256*P[G]>>>0,P[G]=k%s>>>0,k=k/s>>>0;if(k!==0)throw new Error("Non-zero carry");x=I,v++}for(var T=C-x;T!==C&&P[T]===0;)T++;for(var F=u.repeat(d);T<C;++T)F+=t.charAt(P[T]);return F}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var d=0;if(p[d]!==" "){for(var x=0,v=0;p[d]===u;)x++,d++;for(var B=(p.length-d)*f+1>>>0,C=new Uint8Array(B);p[d];){var P=r[p.charCodeAt(d)];if(P===255)return;for(var k=0,I=B-1;(P!==0||k<v)&&I!==-1;I--,k++)P+=s*C[I]>>>0,C[I]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");v=k,d++}if(p[d]!==" "){for(var G=B-v;G!==B&&C[G]===0;)G++;for(var T=new Uint8Array(x+(B-G)),F=x;G!==B;)T[F++]=C[G++];return T}}}function y(p){var d=h(p);if(d)return d;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:y}}var $c=Gc,Wc=$c,Na=Wc;var O1=new Uint8Array(0);var Da=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Ie=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var Ua=t=>new TextEncoder().encode(t),La=t=>new TextDecoder().decode(t);var Ki=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Mi=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Fa(this,e)}},Oi=class{constructor(e){this.decoders=e}or(e){return Fa(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Fa=(t,e)=>new Oi({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Vi=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Ki(e,r,n),this.decoder=new Mi(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},xr=({name:t,prefix:e,encode:r,decode:n})=>new Vi(t,e,r,n),Ke=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=Na(r,e);return xr({prefix:t,name:e,encode:n,decode:o=>Ie(i(o))})},Yc=(t,e,r,n)=>{let i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let o=t.length;for(;t[o-1]==="=";)--o;let a=new Uint8Array(o*r/8|0),s=0,u=0,f=0;for(let c=0;c<o;++c){let l=i[t[c]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|l,s+=r,s>=8&&(s-=8,a[f++]=255&u>>s)}if(s>=r||255&u<<8-s)throw new SyntaxError("Unexpected end of data");return a},Zc=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",a=0,s=0;for(let u=0;u<t.length;++u)for(s=s<<8|t[u],a+=8;a>r;)a-=r,o+=e[i&s>>a];if(a&&(o+=e[i&s<<r-a]),n)for(;o.length*r&7;)o+="=";return o},wt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>xr({prefix:e,name:t,encode(i){return Zc(i,n,r)},decode(i){return Yc(i,n,r,t)}});var Qc=xr({prefix:"\0",name:"identity",encode:t=>La(t),decode:t=>Ua(t)});var zi={};kt(zi,{base2:()=>Xc});var Xc=wt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Hi={};kt(Hi,{base8:()=>Jc});var Jc=wt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gi={};kt(Gi,{base10:()=>jc});var jc=Ke({prefix:"9",name:"base10",alphabet:"0123456789"});var $i={};kt($i,{base16:()=>tl,base16upper:()=>el});var tl=wt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),el=wt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Yi={};kt(Yi,{base32:()=>Me,base32hex:()=>il,base32hexpad:()=>al,base32hexpadupper:()=>sl,base32hexupper:()=>ol,base32pad:()=>rl,base32padupper:()=>nl,base32upper:()=>Wi,base32z:()=>fl});var Me=wt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Wi=wt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rl=wt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nl=wt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),il=wt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ol=wt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),al=wt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sl=wt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fl=wt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Zi={};kt(Zi,{base36:()=>ul,base36upper:()=>cl});var ul=Ke({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),cl=Ke({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Qi={};kt(Qi,{base58btc:()=>Nt,base58flickr:()=>ll});var Nt=Ke({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ll=Ke({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Xi={};kt(Xi,{base64:()=>vr,base64pad:()=>hl,base64url:()=>pl,base64urlpad:()=>dl});var vr=wt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hl=wt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pl=wt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),dl=wt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ji={};kt(Ji,{base256emoji:()=>vl});var Ka=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),yl=Ka.reduce((t,e,r)=>(t[r]=e,t),[]),gl=Ka.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ml(t){return t.reduce((e,r)=>(e+=yl[r],e),"")}function xl(t){let e=[];for(let r of t){let n=gl[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var vl=xr({prefix:"\u{1F680}",name:"base256emoji",encode:ml,decode:xl});var ro={};kt(ro,{sha256:()=>Ut,sha512:()=>Kl});var wl=Va,Ma=128,bl=127,El=~bl,Sl=Math.pow(2,31);function Va(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Sl;)e[r++]=t&255|Ma,t/=128;for(;t&El;)e[r++]=t&255|Ma,t>>>=7;return e[r]=t|0,Va.bytes=r-n+1,e}var Bl=ji,Al=128,Oa=127;function ji(t,n){var r=0,n=n||0,i=0,o=n,a,s=t.length;do{if(o>=s)throw ji.bytes=0,new RangeError("Could not decode varint");a=t[o++],r+=i<28?(a&Oa)<<i:(a&Oa)*Math.pow(2,i),i+=7}while(a>=Al);return ji.bytes=o-n,r}var Cl=Math.pow(2,7),Tl=Math.pow(2,14),Il=Math.pow(2,21),_l=Math.pow(2,28),Rl=Math.pow(2,35),kl=Math.pow(2,42),Nl=Math.pow(2,49),Dl=Math.pow(2,56),Ul=Math.pow(2,63),Ll=function(t){return t<Cl?1:t<Tl?2:t<Il?3:t<_l?4:t<Rl?5:t<kl?6:t<Nl?7:t<Dl?8:t<Ul?9:10},Pl={encode:wl,decode:Bl,encodingLength:Ll},Fl=Pl,rn=Fl;var nn=(t,e=0)=>[rn.decode(t,e),rn.decode.bytes],wr=(t,e,r=0)=>(rn.encode(t,e,r),e),br=t=>rn.encodingLength(t);var Oe=(t,e)=>{let r=e.byteLength,n=br(t),i=n+br(r),o=new Uint8Array(i+r);return wr(t,o,0),wr(r,o,n),o.set(e,i),new Er(t,r,e,o)},er=t=>{let e=Ie(t),[r,n]=nn(e),[i,o]=nn(e.subarray(n)),a=e.subarray(n+o);if(a.byteLength!==i)throw new Error("Incorrect length");return new Er(r,i,a,e)},qa=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&Da(t.bytes,r.bytes)}},Er=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var eo=({name:t,code:e,encode:r})=>new to(t,e,r),to=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Oe(this.code,r):r.then(n=>Oe(this.code,n))}else throw Error("Unknown type, must be binary type")}};var Ha=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Ut=eo({name:"sha2-256",code:18,encode:Ha("SHA-256")}),Kl=eo({name:"sha2-512",code:19,encode:Ha("SHA-512")});var no={};kt(no,{identity:()=>Ve});var Ga=0,Ml="identity",$a=Ie,Ol=t=>Oe(Ga,$a(t)),Ve={code:Ga,name:Ml,encode:$a,digest:Ol};var s2=new TextEncoder,f2=new TextDecoder;var Wa=(t,e)=>{let{bytes:r,version:n}=t;switch(n){case 0:return Hl(r,io(t),e||Nt.encoder);default:return Gl(r,io(t),e||Me.encoder)}};var Ya=new WeakMap,io=t=>{let e=Ya.get(t);if(e==null){let r=new Map;return Ya.set(t,r),r}return e},xt=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==on)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==$l)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return xt.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Oe(e,r);return xt.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return xt.equals(this,e)}static equals(e,r){let n=r;return n&&e.code===n.code&&e.version===n.version&&qa(e.multihash,n.multihash)}toString(e){return Wa(this,e)}toJSON(){return{"/":Wa(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof xt)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:o,bytes:a}=r;return new xt(n,i,o,a||Za(n,i,o.bytes))}else if(r[Wl]===!0){let{version:n,multihash:i,code:o}=r,a=er(i);return xt.create(n,o,a)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==on)throw new Error(`Version 0 CID must use dag-pb (code: ${on}) block encoding`);return new xt(e,r,n,n.bytes)}case 1:{let i=Za(e,r,n.bytes);return new xt(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return xt.create(0,on,e)}static createV1(e,r){return xt.create(1,e,r)}static decode(e){let[r,n]=xt.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=xt.inspectBytes(e),n=r.size-r.multihashSize,i=Ie(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),a=new Er(r.multihashCode,r.digestSize,o,i);return[r.version===0?xt.createV0(a):xt.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[l,h]=nn(e.subarray(r));return r+=h,l},i=n(),o=on;if(i===18?(i=0,r=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let a=r,s=n(),u=n(),f=r+u,c=f-a;return{version:i,codec:o,multihashCode:s,digestSize:u,multihashSize:c,size:f}}static parse(e,r){let[n,i]=zl(e,r),o=xt.decode(i);return io(o).set(n,e),o}},zl=(t,e)=>{switch(t[0]){case"Q":{let r=e||Nt;return[Nt.prefix,r.decode(`${Nt.prefix}${t}`)]}case Nt.prefix:{let r=e||Nt;return[Nt.prefix,r.decode(t)]}case Me.prefix:{let r=e||Me;return[Me.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Hl=(t,e,r)=>{let{prefix:n}=r;if(n!==Nt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i},Gl=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i},on=112,$l=18,Za=(t,e,r)=>{let n=br(t),i=n+br(e),o=new Uint8Array(i+r.byteLength);return wr(t,o,0),wr(e,o,n),o.set(r,i),o},Wl=Symbol.for("@ipld/js-cid/CID");var Sr={...qi,...zi,...Hi,...Gi,...$i,...Yi,...Zi,...Qi,...Xi,...Ji},x2={...ro,...no};function Br(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Mn(t=0){return globalThis.Buffer?.allocUnsafe!=null?Br(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Xa(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var Qa=Xa("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),oo=Xa("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Mn(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Yl={utf8:Qa,"utf-8":Qa,hex:Sr.base16,latin1:oo,ascii:oo,binary:oo,...Sr},On=Yl;function Pt(t,e="utf8"){let r=On[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function St(t,e="utf8"){let r=On[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Br(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var _e="/",Ja=new TextEncoder().encode(_e),Vn=Ja[0],Lt=class{constructor(e,r){if(typeof e=="string")this._buf=St(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==Vn)throw new Error("Invalid key")}toString(e="utf8"){return Pt(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new Lt(e.join(_e))}static random(){return new Lt(ka().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new Lt(e):typeof e.uint8Array=="function"?new Lt(e.uint8Array()):null}clean(){if((this._buf==null||this._buf.byteLength===0)&&(this._buf=Ja),this._buf[0]!==Vn){let e=new Uint8Array(this._buf.byteLength+1);e.fill(Vn,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Vn;)this._buf=this._buf.subarray(0,-1)}less(e){let r=this.list(),n=e.list();for(let i=0;i<r.length;i++){if(n.length<i+1)return!1;let o=r[i],a=n[i];if(o<a)return!0;if(o>a)return!1}return r.length<n.length}reverse(){return Lt.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(_e).slice(1)}type(){return Zl(this.baseNamespace())}name(){return Ql(this.baseNamespace())}instance(e){return new Lt(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(_e)||(e+=_e),e+=this.type(),new Lt(e)}parent(){let e=this.list();return e.length===1?new Lt(_e):new Lt(e.slice(0,-1).join(_e))}child(e){return this.toString()===_e?e:e.toString()===_e?this:new Lt(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return Lt.withNamespaces([...this.namespaces(),...Xl(e.map(r=>r.namespaces()))])}};function Zl(t){let e=t.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function Ql(t){let e=t.split(":");return e[e.length-1]}function Xl(t){return[].concat(...t)}var vo=Q(co(),1),Ms=Q(ks(),1),wo=Q(xo(),1),Os=Q(Ks(),1),Vs=Q(ir(),1);function ah(){Vs.default._configure(),vo.default._configure(Ms.default),wo.default._configure(Os.default)}ah();var qs=["uint64","int64","sint64","fixed64","sfixed64"];function sh(t){for(let e of qs){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function bo(t){return sh(new vo.default(t))}function fh(t){for(let e of qs){if(t[e]==null)continue;let r=t[e];t[e]=function(n){return r.call(this,n.toString())}}return t}function Eo(){return fh(wo.default.create())}function Cr(t,e){let r=bo(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}function Tr(t,e){let r=Eo();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var Ir;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(Ir||(Ir={}));function $n(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function fn(t){function e(i){if(t[i.toString()]==null)throw new Error("Invalid enum value");return t[i]}let r=function(o,a){let s=e(o);a.int32(s)},n=function(o){let a=o.int32();return e(a)};return $n("enum",Ir.VARINT,r,n)}function _r(t,e){return $n("message",Ir.LENGTH_DELIMITED,t,e)}var Et;(function(t){t.RSA="RSA",t.Ed25519="Ed25519",t.Secp256k1="Secp256k1"})(Et||(Et={}));var So;(function(t){t[t.RSA=0]="RSA",t[t.Ed25519=1]="Ed25519",t[t.Secp256k1=2]="Secp256k1"})(So||(So={}));(function(t){t.codec=()=>fn(So)})(Et||(Et={}));var Re;(function(t){let e;t.codec=()=>(e==null&&(e=_r((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),Et.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:i.Type=Et.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(a&7);break}}return i})),e),t.encode=r=>Tr(r,t.codec()),t.decode=r=>Cr(r,t.codec())})(Re||(Re={}));var ye;(function(t){let e;t.codec=()=>(e==null&&(e=_r((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),Et.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},o=n==null?r.len:r.pos+n;for(;r.pos<o;){let a=r.uint32();switch(a>>>3){case 1:i.Type=Et.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(a&7);break}}return i})),e),t.encode=r=>Tr(r,t.codec()),t.decode=r=>Cr(r,t.codec())})(ye||(ye={}));var jm=Q(hn(),1),tx=Q(of(),1),Ly=Q(ut(),1),su=Q(Vt(),1);var Ld=Q(Vt(),1);function fe(t,e){e==null&&(e=t.reduce((i,o)=>i+o.length,0));let r=Mn(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return Br(r)}var qt={get(t=globalThis){let e=t.crypto;if(e==null||e.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}};var Pd=Q(Vt(),1);var Yg=Q(Bt(),1),Zg=Q(si(),1),ff=Q(ut(),1);function ue(t,e){let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=fe([new Uint8Array(e-r.length),r])}return Pt(r,"base64url")}function Gt(t){let e=uf(t);return new ff.default.jsbn.BigInteger(Pt(e,"base16"),16)}function uf(t,e){let r=St(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=fe([new Uint8Array(e-r.length),r])}return r}function Mt(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var Fd={"P-256":256,"P-384":384,"P-521":521},Kd=Object.keys(Fd),am=Kd.join(" / ");function $o(t){let e=t?.algorithm??"AES-GCM",r=t?.keyLength??16,n=t?.nonceLength??12,i=t?.digest??"SHA-256",o=t?.saltLength??16,a=t?.iterations??32767,s=qt.get();r*=8;async function u(l,h){let y=s.getRandomValues(new Uint8Array(o)),p=s.getRandomValues(new Uint8Array(n)),d={name:e,iv:p};typeof h=="string"&&(h=St(h));let x={name:"PBKDF2",salt:y,iterations:a,hash:{name:i}},v=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),B=await s.subtle.deriveKey(x,v,{name:e,length:r},!0,["encrypt"]),C=await s.subtle.encrypt(d,B,l);return fe([y,d.iv,new Uint8Array(C)])}async function f(l,h){let y=l.subarray(0,o),p=l.subarray(o,o+n),d=l.subarray(o+n),x={name:e,iv:p};typeof h=="string"&&(h=St(h));let v={name:"PBKDF2",salt:y,iterations:a,hash:{name:i}},B=await s.subtle.importKey("raw",h,{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),C=await s.subtle.deriveKey(v,B,{name:e,length:r},!0,["decrypt"]),P=await s.subtle.decrypt(x,C,d);return new Uint8Array(P)}return{encrypt:u,decrypt:f}}var ia={};kt(ia,{RsaPrivateKey:()=>qr,RsaPublicKey:()=>bn,fromJwk:()=>uy,generateKeyPair:()=>cy,unmarshalRsaPrivateKey:()=>sy,unmarshalRsaPublicKey:()=>fy});var na=Q(Vt(),1);var Fm=Q(yf(),1),wn=Q(ut(),1);var Od=Q(Nr(),1);var J=BigInt(0),dt=BigInt(1),Ye=BigInt(2),mn=BigInt(3),Vd=BigInt(8),gt=Object.freeze({a:J,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:dt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function gf(t){let{a:e,b:r}=gt,n=D(t*t),i=D(n*t);return D(i+e*t+r)}var li=gt.a===J,pi=class extends Error{constructor(e){super(e)}},ot=class{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof ft))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new ot(e.x,e.y,dt)}static toAffineBatch(e){let r=$d(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return ot.toAffineBatch(e).map(ot.fromAffine)}equals(e){if(!(e instanceof ot))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:o,y:a,z:s}=e,u=D(i*i),f=D(s*s),c=D(r*f),l=D(o*u),h=D(D(n*s)*f),y=D(D(a*i)*u);return c===l&&h===y}negate(){return new ot(this.x,D(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=D(e*e),o=D(r*r),a=D(o*o),s=e+o,u=D(Ye*(D(s*s)-i-a)),f=D(mn*i),c=D(f*f),l=D(c-Ye*u),h=D(f*(u-l)-Vd*a),y=D(Ye*r*n);return new ot(l,h,y)}add(e){if(!(e instanceof ot))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:o,y:a,z:s}=e;if(o===J||a===J)return this;if(r===J||n===J)return e;let u=D(i*i),f=D(s*s),c=D(r*f),l=D(o*u),h=D(D(n*s)*f),y=D(D(a*i)*u),p=D(l-c),d=D(y-h);if(p===J)return d===J?this.double():ot.ZERO;let x=D(p*p),v=D(p*x),B=D(c*x),C=D(d*d-v-Ye*B),P=D(d*(B-C)-h*v),k=D(i*s*p);return new ot(C,P,k)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=ot.ZERO;if(typeof e=="bigint"&&e===J)return r;let n=vf(e);if(n===dt)return this;if(!li){let l=r,h=this;for(;n>J;)n&dt&&(l=l.add(h)),h=h.double(),n>>=dt;return l}let{k1neg:i,k1:o,k2neg:a,k2:s}=bf(n),u=r,f=r,c=this;for(;o>J||s>J;)o&dt&&(u=u.add(c)),s&dt&&(f=f.add(c)),c=c.double(),o>>=dt,s>>=dt;return i&&(u=u.negate()),a&&(f=f.negate()),f=new ot(D(f.x*gt.beta),f.y,f.z),u.add(f)}precomputeWindow(e){let r=li?128/e+1:256/e+1,n=[],i=this,o=i;for(let a=0;a<r;a++){o=i,n.push(o);for(let s=1;s<2**(e-1);s++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(ot.BASE)&&(r=ft.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Qo.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=ot.normalizeZ(i),Qo.set(r,i)));let o=ot.ZERO,a=ot.ZERO,s=1+(li?128/n:256/n),u=2**(n-1),f=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let h=0;h<s;h++){let y=h*u,p=Number(e&f);if(e>>=l,p>u&&(p-=c,e+=dt),p===0){let d=i[y];h%2&&(d=d.negate()),a=a.add(d)}else{let d=i[y+Math.abs(p)-1];p<0&&(d=d.negate()),o=o.add(d)}}return{p:o,f:a}}multiply(e,r){let n=vf(e),i,o;if(li){let{k1neg:a,k1:s,k2neg:u,k2:f}=bf(n),{p:c,f:l}=this.wNAF(s,r),{p:h,f:y}=this.wNAF(f,r);a&&(c=c.negate()),u&&(h=h.negate()),h=new ot(D(h.x*gt.beta),h.y,h.z),i=c.add(h),o=l.add(y)}else{let{p:a,f:s}=this.wNAF(n,r);i=a,o=s}return ot.normalizeZ([i,o])[0]}toAffine(e=Or(this.z)){let{x:r,y:n,z:i}=this,o=e,a=D(o*o),s=D(a*o),u=D(r*a),f=D(n*s);if(D(i*o)!==dt)throw new Error("invZ was invalid");return new ft(u,f)}};ot.BASE=new ot(gt.Gx,gt.Gy,dt);ot.ZERO=new ot(J,dt,J);var Qo=new WeakMap,ft=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Qo.delete(this)}hasEvenY(){return this.y%Ye===J}static fromCompressedHex(e){let r=e.length===32,n=Ue(r?e:e.subarray(1));if(!Zo(n))throw new Error("Point is not on curve");let i=gf(n),o=Gd(i),a=(o&dt)===dt;r?a&&(o=D(-o)):(e[0]&1)===1!==a&&(o=D(-o));let s=new ft(n,o);return s.assertValidity(),s}static fromUncompressedHex(e){let r=Ue(e.subarray(1,33)),n=Ue(e.subarray(33,65)),i=new ft(r,n);return i.assertValidity(),i}static fromHex(e){let r=Mr(e),n=r.length,i=r[0];if(n===32||n===33&&(i===2||i===3))return this.fromCompressedHex(r);if(n===65&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return ft.BASE.multiply(yi(e))}static fromSignature(e,r,n){e=Mr(e);let i=Ef(e),{r:o,s:a}=Sf(r);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");let s=n&1?"03":"02",u=ft.fromHex(s+Pr(o)),{n:f}=gt,c=Or(o,f),l=D(-i*c,f),h=D(a*c,f),y=ft.BASE.multiplyAndAddUnsafe(u,l,h);if(!y)throw new Error("Cannot recover signature: point at infinify");return y.assertValidity(),y}toRawBytes(e=!1){return hr(this.toHex(e))}toHex(e=!1){let r=Pr(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${Pr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!Zo(r)||!Zo(n))throw new Error(e);let i=D(n*n),o=gf(r);if(D(i-o)!==J)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new ft(this.x,D(-this.y))}double(){return ot.fromAffine(this).double().toAffine()}add(e){return ot.fromAffine(this).add(ot.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ot.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=ot.fromAffine(this),o=r===J||r===dt||this!==ft.BASE?i.multiplyUnsafe(r):i.multiply(r),a=ot.fromAffine(e).multiplyUnsafe(n),s=o.add(a);return s.equals(ot.ZERO)?void 0:s.toAffine()}};ft.BASE=new ft(gt.Gx,gt.Gy);ft.ZERO=new ft(J,J);function mf(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function xf(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Kr(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Ue(r),left:t.subarray(e+2)}}function qd(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Kr(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=xf(t.subarray(2)),{data:n,left:i}=xf(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Kr(i)}`);return{r:e,s:n}}var Ee=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Kr(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new Ee(di(i.slice(0,64)),di(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=qd(r?e:hr(e));return new Ee(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!vn(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!vn(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=gt.n>>dt;return this.s>e}normalizeS(){return this.hasHighS()?new Ee(this.r,gt.n-this.s):this}toDERRawBytes(e=!1){return hr(this.toDERHex(e))}toDERHex(e=!1){let r=mf(gn(this.s));if(e)return r;let n=mf(gn(this.r)),i=gn(n.length/2),o=gn(r.length/2);return`30${gn(n.length/2+r.length/2+4)}02${i}${n}02${o}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hr(this.toCompactHex())}toCompactHex(){return Pr(this.r)+Pr(this.s)}};function Lr(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var zd=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Kr(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=zd[t[r]];return e}var Hd=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Pr(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(J<=t&&t<Hd))throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function Xo(t){let e=hr(Pr(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function gn(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function di(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function hr(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Ue(t){return di(Kr(t))}function Mr(t){return t instanceof Uint8Array?Uint8Array.from(t):hr(t)}function vf(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&vn(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function D(t,e=gt.P){let r=t%e;return r>=J?r:e+r}function ee(t,e){let{P:r}=gt,n=t;for(;e-- >J;)n*=n,n%=r;return n}function Gd(t){let{P:e}=gt,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),s=BigInt(88),u=t*t*t%e,f=u*u*t%e,c=ee(f,mn)*f%e,l=ee(c,mn)*f%e,h=ee(l,Ye)*u%e,y=ee(h,n)*h%e,p=ee(y,i)*y%e,d=ee(p,a)*p%e,x=ee(d,s)*d%e,v=ee(x,a)*p%e,B=ee(v,mn)*f%e,C=ee(B,o)*y%e,P=ee(C,r)*u%e;return ee(P,Ye)}function Or(t,e=gt.P){if(t===J||e<=J)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=D(t,e),n=e,i=J,o=dt,a=dt,s=J;for(;r!==J;){let f=n/r,c=n%r,l=i-a*f,h=o-s*f;n=r,r=c,i=a,o=s,a=l,s=h}if(n!==dt)throw new Error("invert: does not exist");return D(i,e)}function $d(t,e=gt.P){let r=new Array(t.length),n=t.reduce((o,a,s)=>a===J?o:(r[s]=o,D(o*a,e)),dt),i=Or(n,e);return t.reduceRight((o,a,s)=>a===J?o:(r[s]=D(o*r[s],e),D(o*a,e)),i),r}var wf=(t,e)=>(t+e/Ye)/e,Wd={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-dt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function bf(t){let{n:e}=gt,{a1:r,b1:n,a2:i,b2:o,POW_2_128:a}=Wd,s=wf(o*t,e),u=wf(-n*t,e),f=D(t-s*r-u*i,e),c=D(-s*n-u*o,e),l=f>a,h=c>a;if(l&&(f=e-f),h&&(c=e-c),f>a||c>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:l,k1:f,k2neg:h,k2:c}}function Ef(t){let{n:e}=gt,n=t.length*8-256,i=Ue(t);return n>0&&(i=i>>BigInt(n)),i>=e&&(i-=e),i}var Fr,xn,Jo=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return ce.hmacSha256(this.k,...e)}hmacSync(...e){return xn(this.k,...e)}checkSync(){if(typeof xn!="function")throw new pi("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}};function vn(t){return J<t&&t<gt.n}function Zo(t){return J<t&&t<gt.P}function Yd(t,e,r){let n=Ue(t);if(!vn(n))return;let{n:i}=gt,o=ft.BASE.multiply(n),a=D(o.x,i);if(a===J)return;let s=D(Or(n,i)*D(e+r*a,i),i);if(s===J)return;let u=new Ee(a,s),f=(o.x===u.r?0:2)|Number(o.y&dt);return{sig:u,recovery:f}}function yi(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=di(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=Ue(t)}else throw new TypeError("Expected valid private key");if(!vn(e))throw new Error("Expected private key: 0 < key < n");return e}function Zd(t){return t instanceof ft?(t.assertValidity(),t):ft.fromHex(t)}function Sf(t){if(t instanceof Ee)return t.assertValidity(),t;try{return Ee.fromDER(t)}catch{return Ee.fromCompact(t)}}function jo(t,e=!1){return ft.fromPrivateKey(t).toRawBytes(e)}function Bf(t){let e=t.length>32?t.slice(0,32):t;return Ue(e)}function Qd(t){let e=Bf(t),r=D(e,gt.n);return Af(r<J?e:r)}function Af(t){return Xo(t)}function Xd(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=Mr(t),i=yi(e),o=[Af(i),Qd(n)];if(r!=null){r===!0&&(r=ce.randomBytes(32));let u=Mr(r);if(u.length!==32)throw new Error("sign: Expected 32 bytes of extra data");o.push(u)}let a=Lr(...o),s=Bf(n);return{seed:a,m:s,d:i}}function Jd(t,e){let{sig:r,recovery:n}=t,{canonical:i,der:o,recovered:a}=Object.assign({canonical:!0,der:!0},e);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);let s=o?r.toDERRawBytes():r.toCompactRawBytes();return a?[s,n]:s}async function Cf(t,e,r={}){let{seed:n,m:i,d:o}=Xd(t,e,r.extraEntropy),a,s=new Jo;for(await s.reseed(n);!(a=Yd(await s.generate(),i,o));)await s.reseed();return Jd(a,r)}var jd={strict:!0};function Tf(t,e,r,n=jd){let i;try{i=Sf(t),e=Mr(e)}catch{return!1}let{r:o,s:a}=i;if(n.strict&&i.hasHighS())return!1;let s=Ef(e),u;try{u=Zd(r)}catch{return!1}let{n:f}=gt,c=Or(a,f),l=D(s*c,f),h=D(o*c,f),y=ft.BASE.multiplyAndAddUnsafe(u,l,h);return y?D(y.x,f)===o:!1}ft.BASE._setWindowSize(8);var $t={node:Od,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var hi={},ce={bytesToHex:Kr,hexToBytes:hr,concatBytes:Lr,mod:D,invert:Or,isValidPrivateKey(t){try{return yi(t),!0}catch{return!1}},_bigintTo32Bytes:Xo,_normalizePrivateKey:yi,hashToPrivateKey:t=>{if(t=Mr(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let e=D(Ue(t),gt.n-dt)+dt;return Xo(e)},randomBytes:(t=32)=>{if($t.web)return $t.web.getRandomValues(new Uint8Array(t));if($t.node){let{randomBytes:e}=$t.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ce.hashToPrivateKey(ce.randomBytes(40)),sha256:async(...t)=>{if($t.web){let e=await $t.web.subtle.digest("SHA-256",Lr(...t));return new Uint8Array(e)}else if($t.node){let{createHash:e}=$t.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if($t.web){let r=await $t.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Lr(...e),i=await $t.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if($t.node){let{createHmac:r}=$t.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=hi[t];if(r===void 0){let n=await ce.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Lr(n,n),hi[t]=r}return ce.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Fr!="function")throw new pi("sha256Sync is undefined, you need to set it");let r=hi[t];if(r===void 0){let n=Fr(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Lr(n,n),hi[t]=r}return Fr(r,...e)},precompute(t=8,e=ft.BASE){let r=e===ft.BASE?e:new ft(e.x,e.y);return r._setWindowSize(t),r.multiply(mn),r}};Object.defineProperties(ce,{sha256Sync:{configurable:!1,get(){return Fr},set(t){Fr||(Fr=t)}},hmacSha256Sync:{configurable:!1,get(){return xn},set(t){xn||(xn=t)}}});var If=Q(Vt(),1);function gi(t){if(isNaN(t)||t<=0)throw(0,If.default)(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return ce.randomBytes(t)}var pr={};kt(pr,{jwkToPkcs1:()=>ry,jwkToPkix:()=>iy,pkcs1ToJwk:()=>ey,pkixToJwk:()=>ny});var vm=Q(hn(),1),wm=Q(ci(),1),Le=Q(ut(),1);var ta=Q(Vt(),1);function ey(t){let e=Le.default.asn1.fromDer(Pt(t,"ascii")),r=Le.default.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:ue(r.n),e:ue(r.e),d:ue(r.d),p:ue(r.p),q:ue(r.q),dp:ue(r.dP),dq:ue(r.dQ),qi:ue(r.qInv),alg:"RS256"}}function ry(t){if(t.n==null||t.e==null||t.d==null||t.p==null||t.q==null||t.dp==null||t.dq==null||t.qi==null)throw(0,ta.default)(new Error("JWK was missing components"),"ERR_INVALID_PARAMETERS");let e=Le.default.pki.privateKeyToAsn1({n:Gt(t.n),e:Gt(t.e),d:Gt(t.d),p:Gt(t.p),q:Gt(t.q),dP:Gt(t.dp),dQ:Gt(t.dq),qInv:Gt(t.qi)});return St(Le.default.asn1.toDer(e).getBytes(),"ascii")}function ny(t){let e=Le.default.asn1.fromDer(Pt(t,"ascii")),r=Le.default.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:ue(r.n),e:ue(r.e)}}function iy(t){if(t.n==null||t.e==null)throw(0,ta.default)(new Error("JWK was missing components"),"ERR_INVALID_PARAMETERS");let e=Le.default.pki.publicKeyToAsn1({n:Gt(t.n),e:Gt(t.e)});return St(Le.default.asn1.toDer(e).getBytes(),"ascii")}var Bm=Q(ci(),1),ea=Q(ut(),1);function _f(t,e){return e.map(r=>Gt(t[r]))}function Rf(t){return ea.default.pki.setRsaPrivateKey(..._f(t,["n","e","d","p","q","dp","dq","qi"]))}function kf(t){return ea.default.pki.setRsaPublicKey(..._f(t,["n","e"]))}var Nf=Q(Vt(),1);async function Df(t){let e=await qt.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await Pf(e);return{privateKey:r[0],publicKey:r[1]}}async function ra(t){let r=[await qt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await oy(t)],n=await Pf({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function Uf(t,e){let r=await qt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await qt.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,0,n.byteLength)}async function Lf(t,e,r){let n=await qt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return await qt.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)}async function Pf(t){if(t.privateKey==null||t.publicKey==null)throw(0,Nf.default)(new Error("Private and public key are required"),"ERR_INVALID_PARAMETERS");return await Promise.all([qt.get().subtle.exportKey("jwk",t.privateKey),qt.get().subtle.exportKey("jwk",t.publicKey)])}async function oy(t){return await qt.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function Ff(t,e,r,n){let i=e?kf(t):Rf(t),o=Pt(Uint8Array.from(r),"ascii"),a=n(o,i);return St(a,"ascii")}function Kf(t,e){return Ff(t,!0,e,(r,n)=>n.encrypt(r))}function Mf(t,e){return Ff(t,!1,e,(r,n)=>n.decrypt(r))}async function Vr(t,e){let n=await $o().encrypt(t,e);return vr.encode(n)}var bn=class{constructor(e){this._key=e}async verify(e,r){return await Lf(this._key,r,e)}marshal(){return pr.jwkToPkix(this._key)}get bytes(){return Re.encode({Type:Et.RSA,Data:this.marshal()}).subarray()}encrypt(e){return Kf(this._key,e)}equals(e){return Mt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ut.digest(this.bytes);return e}},qr=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return gi(16)}async sign(e){return await Uf(this._key,e)}get public(){if(this._publicKey==null)throw(0,na.default)(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new bn(this._publicKey)}decrypt(e){return Mf(this._key,e)}marshal(){return pr.jwkToPkcs1(this._key)}get bytes(){return ye.encode({Type:Et.RSA,Data:this.marshal()}).subarray()}equals(e){return Mt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ut.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Pt(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new wn.default.util.ByteBuffer(this.marshal()),i=wn.default.asn1.fromDer(n),o=wn.default.pki.privateKeyFromAsn1(i),a={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return wn.default.pki.encryptRsaPrivateKey(o,e,a)}else{if(r==="libp2p-key")return await Vr(this.bytes,e);throw(0,na.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function sy(t){let e=pr.pkcs1ToJwk(t),r=await ra(e);return new qr(r.privateKey,r.publicKey)}function fy(t){let e=pr.pkixToJwk(t);return new bn(e)}async function uy(t){let e=await ra(t);return new qr(e.privateKey,e.publicKey)}async function cy(t){let e=await Df(t);return new qr(e.privateKey,e.publicKey)}var da={};kt(da,{Ed25519PrivateKey:()=>yr,Ed25519PublicKey:()=>Cn,generateKeyPair:()=>Ry,generateKeyPairFromSeed:()=>jf,unmarshalEd25519PrivateKey:()=>Iy,unmarshalEd25519PublicKey:()=>_y});var pa=Q(Vt(),1);var ly=Q(Nr(),1);var _t=BigInt(0),tt=BigInt(1),zr=BigInt(2),Of=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),mt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Of,n:Of,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var Hf=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),En=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Mm=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),hy=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),py=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),dy=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),yy=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),j=class{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof vt))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(vt.ZERO)?j.ZERO:new j(e.x,e.y,tt,S(e.x*e.y))}static toAffineBatch(e){let r=xy(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Vf(e);let{x:r,y:n,z:i}=this,{x:o,y:a,z:s}=e,u=S(r*s),f=S(o*i),c=S(n*s),l=S(a*i);return u===f&&c===l}negate(){return new j(S(-this.x),this.y,this.z,S(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=mt,o=S(e*e),a=S(r*r),s=S(zr*S(n*n)),u=S(i*o),f=e+r,c=S(S(f*f)-o-a),l=u+a,h=l-s,y=u-a,p=S(c*h),d=S(l*y),x=S(c*y),v=S(h*l);return new j(p,d,v,x)}add(e){Vf(e);let{x:r,y:n,z:i,t:o}=this,{x:a,y:s,z:u,t:f}=e,c=S((n-r)*(s+a)),l=S((n+r)*(s-a)),h=S(l-c);if(h===_t)return this.double();let y=S(i*zr*f),p=S(o*zr*u),d=p+y,x=l+c,v=p-y,B=S(d*h),C=S(x*v),P=S(d*v),k=S(h*x);return new j(B,C,k,P)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,o=i;for(let a=0;a<r;a++){o=i,n.push(o);for(let s=1;s<2**(e-1);s++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,r){!r&&this.equals(j.BASE)&&(r=vt.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&ua.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=j.normalizeZ(i),ua.set(r,i)));let o=j.ZERO,a=j.ZERO,s=1+256/n,u=2**(n-1),f=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let h=0;h<s;h++){let y=h*u,p=Number(e&f);if(e>>=l,p>u&&(p-=c,e+=tt),p===0){let d=i[y];h%2&&(d=d.negate()),a=a.add(d)}else{let d=i[y+Math.abs(p)-1];p<0&&(d=d.negate()),o=o.add(d)}}return j.normalizeZ([o,a])[0]}multiply(e,r){return this.wNAF(xi(e,mt.l),r)}multiplyUnsafe(e){let r=xi(e,mt.l,!1),n=j.BASE,i=j.ZERO;if(r===_t)return i;if(this.equals(i)||r===tt)return this;if(this.equals(n))return this.wNAF(r);let o=i,a=this;for(;r>_t;)r&tt&&(o=o.add(a)),a=a.double(),r>>=tt;return o}isSmallOrder(){return this.multiplyUnsafe(mt.h).equals(j.ZERO)}isTorsionFree(){return this.multiplyUnsafe(mt.l).equals(j.ZERO)}toAffine(e=vi(this.z)){let{x:r,y:n,z:i}=this,o=S(r*e),a=S(n*e);if(S(i*e)!==tt)throw new Error("invZ was invalid");return new vt(o,a)}fromRistrettoBytes(){aa()}toRistrettoBytes(){aa()}fromRistrettoHash(){aa()}};j.BASE=new j(mt.Gx,mt.Gy,tt,S(mt.Gx*mt.Gy));j.ZERO=new j(_t,tt,tt,_t);function Vf(t){if(!(t instanceof j))throw new TypeError("ExtendedPoint expected")}function oa(t){if(!(t instanceof zt))throw new TypeError("RistrettoPoint expected")}function aa(){throw new Error("Legacy method: switch to RistrettoPoint")}var zt=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=mt,n=S(En*e*e),i=S((n+tt)*dy),o=BigInt(-1),a=S((o-r*n)*S(n+r)),{isValid:s,value:u}=la(i,a),f=S(u*e);Qe(f)||(f=S(-f)),s||(u=f),s||(o=n);let c=S(o*(n-tt)*yy-a),l=u*u,h=S((u+u)*a),y=S(c*hy),p=S(tt-l),d=S(tt+l);return new j(S(h*d),S(p*y),S(y*d),S(h*p))}static hashToCurve(e){e=Xe(e,64);let r=sa(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=sa(e.slice(32,64)),o=this.calcElligatorRistrettoMap(i);return new zt(n.add(o))}static fromHex(e){e=Xe(e,32);let{a:r,d:n}=mt,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=sa(e);if(!wy(Sn(o),e)||Qe(o))throw new Error(i);let a=S(o*o),s=S(tt+r*a),u=S(tt-r*a),f=S(s*s),c=S(u*u),l=S(r*n*f-c),{isValid:h,value:y}=zf(S(l*c)),p=S(y*u),d=S(y*p*l),x=S((o+o)*p);Qe(x)&&(x=S(-x));let v=S(s*d),B=S(x*v);if(!h||Qe(B)||v===_t)throw new Error(i);return new zt(new j(x,v,tt,B))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,o=S(S(n+r)*S(n-r)),a=S(e*r),s=S(a*a),{value:u}=zf(S(o*s)),f=S(u*o),c=S(u*a),l=S(f*c*i),h;if(Qe(i*l)){let p=S(r*En),d=S(e*En);e=p,r=d,h=S(f*py)}else h=c;Qe(e*l)&&(r=S(-r));let y=S((n-r)*h);return Qe(y)&&(y=S(-y)),Sn(y)}toHex(){return Bn(this.toRawBytes())}toString(){return this.toHex()}equals(e){oa(e);let r=this.ep,n=e.ep,i=S(r.x*n.y)===S(r.y*n.x),o=S(r.y*n.y)===S(r.x*n.x);return i||o}add(e){return oa(e),new zt(this.ep.add(e.ep))}subtract(e){return oa(e),new zt(this.ep.subtract(e.ep))}multiply(e){return new zt(this.ep.multiply(e))}multiplyUnsafe(e){return new zt(this.ep.multiplyUnsafe(e))}};zt.BASE=new zt(j.BASE);zt.ZERO=new zt(j.ZERO);var ua=new WeakMap,vt=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,ua.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=mt;e=Xe(e,32);let o=e.slice();o[31]=e[31]&-129;let a=An(o);if(r&&a>=i)throw new Error("Expected 0 < hex < P");if(!r&&a>=Hf)throw new Error("Expected 0 < hex < 2**256");let s=S(a*a),u=S(s-tt),f=S(n*s+tt),{isValid:c,value:l}=la(u,f);if(!c)throw new Error("Point.fromHex: invalid y coordinate");let h=(l&tt)===tt;return(e[31]&128)!==0!==h&&(l=S(-l)),new vt(l,a)}static async fromPrivateKey(e){return(await wi(e)).point}toRawBytes(){let e=Sn(this.y);return e[31]|=this.x&tt?128:0,e}toHex(){return Bn(this.toRawBytes())}toX25519(){let{y:e}=this,r=S((tt+e)*vi(tt-e));return Sn(r)}isTorsionFree(){return j.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new vt(S(-this.x),this.y)}add(e){return j.fromAffine(this).add(j.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return j.fromAffine(this).multiply(e,this).toAffine()}};vt.BASE=new vt(mt.Gx,mt.Gy);vt.ZERO=new vt(_t,tt);var dr=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Xe(e,64),n=vt.fromHex(r.slice(0,32),!1),i=An(r.slice(32,64));return new dr(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof vt))throw new Error("Expected Point instance");return xi(r,mt.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Sn(this.s),32),e}toHex(){return Bn(this.toRawBytes())}};function qf(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let o=t[n];r.set(o,i),i+=o.length}return r}var gy=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bn(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=gy[t[r]];return e}function ca(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");e[r]=o}return e}function Gf(t){let r=t.toString(16).padStart(64,"0");return ca(r)}function Sn(t){return Gf(t).reverse()}function Qe(t){return(S(t)&tt)===tt}function An(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Bn(Uint8Array.from(t).reverse()))}var my=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function sa(t){return S(An(t)&my)}function S(t,e=mt.P){let r=t%e;return r>=_t?r:e+r}function vi(t,e=mt.P){if(t===_t||e<=_t)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=S(t,e),n=e,i=_t,o=tt,a=tt,s=_t;for(;r!==_t;){let f=n/r,c=n%r,l=i-a*f,h=o-s*f;n=r,r=c,i=a,o=s,a=l,s=h}if(n!==tt)throw new Error("invert: does not exist");return S(i,e)}function xy(t,e=mt.P){let r=new Array(t.length),n=t.reduce((o,a,s)=>a===_t?o:(r[s]=o,S(o*a,e)),tt),i=vi(n,e);return t.reduceRight((o,a,s)=>a===_t?o:(r[s]=S(o*r[s],e),S(o*a,e)),i),r}function Se(t,e){let{P:r}=mt,n=t;for(;e-- >_t;)n*=n,n%=r;return n}function vy(t){let{P:e}=mt,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),a=BigInt(80),u=t*t%e*t%e,f=Se(u,zr)*u%e,c=Se(f,tt)*t%e,l=Se(c,r)*c%e,h=Se(l,n)*l%e,y=Se(h,i)*h%e,p=Se(y,o)*y%e,d=Se(p,a)*p%e,x=Se(d,a)*p%e,v=Se(x,n)*l%e;return{pow_p_5_8:Se(v,zr)*t%e,b2:u}}function la(t,e){let r=S(e*e*e),n=S(r*r*e),i=vy(t*n).pow_p_5_8,o=S(t*r*i),a=S(e*o*o),s=o,u=S(o*En),f=a===t,c=a===S(-t),l=a===S(-t*En);return f&&(o=s),(c||l)&&(o=u),Qe(o)&&(o=S(-o)),{isValid:f||c,value:o}}function zf(t){return la(tt,t)}function mi(t){return S(An(t),mt.l)}function wy(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Xe(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):ca(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function xi(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(_t<t)return t}else if(_t<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function by(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Ey(t){if(t=typeof t=="bigint"||typeof t=="number"?Gf(xi(t,Hf)):Xe(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function Sy(t){let e=by(t.slice(0,32)),r=t.slice(32,64),n=mi(e),i=vt.BASE.multiply(n),o=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:o}}var fa;async function wi(t){return Sy(await Je.sha512(Ey(t)))}async function ha(t){return(await wi(t)).pointBytes}async function $f(t,e){t=Xe(t);let{prefix:r,scalar:n,pointBytes:i}=await wi(e),o=mi(await Je.sha512(r,t)),a=vt.BASE.multiply(o),s=mi(await Je.sha512(a.toRawBytes(),i,t)),u=S(o+s*n,mt.l);return new dr(a,u).toRawBytes()}function By(t,e,r){e=Xe(e),r instanceof vt||(r=vt.fromHex(r,!1));let{r:n,s:i}=t instanceof dr?t.assertValidity():dr.fromHex(t),o=j.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:o,pub:r,msg:e}}function Ay(t,e,r,n){let i=mi(n),o=j.fromAffine(t).multiplyUnsafe(i);return j.fromAffine(e).add(o).subtract(r).multiplyUnsafe(mt.h).equals(j.ZERO)}async function Wf(t,e,r){let{r:n,SB:i,msg:o,pub:a}=By(t,e,r),s=await Je.sha512(n.toRawBytes(),a.toRawBytes(),o);return Ay(a,n,i,s)}vt.BASE._setWindowSize(8);var Ze={node:ly,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Je={bytesToHex:Bn,hexToBytes:ca,concatBytes:qf,getExtendedPublicKey:wi,mod:S,invert:vi,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Xe(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return S(An(t),mt.l-tt)+tt},randomBytes:(t=32)=>{if(Ze.web)return Ze.web.getRandomValues(new Uint8Array(t));if(Ze.node){let{randomBytes:e}=Ze.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Je.randomBytes(32),sha512:async(...t)=>{let e=qf(...t);if(Ze.web){let r=await Ze.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(Ze.node)return Uint8Array.from(Ze.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=vt.BASE){let r=e.equals(vt.BASE)?e:new vt(e.x,e.y);return r._setWindowSize(t),r.multiply(zr),r},sha512Sync:void 0};Object.defineProperties(Je,{sha512Sync:{configurable:!1,get(){return fa},set(t){fa||(fa=t)}}});var Hr=32,Pe=64,bi=32;async function Yf(){let t=Je.randomPrivateKey(),e=await ha(t);return{privateKey:Jf(t,e),publicKey:e}}async function Zf(t){if(t.length!==bi)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=await ha(e);return{privateKey:Jf(e,r),publicKey:r}}async function Qf(t,e){let r=t.subarray(0,bi);return await $f(e,r)}async function Xf(t,e,r){return await Wf(e,r,t)}function Jf(t,e){let r=new Uint8Array(Pe);for(let n=0;n<bi;n++)r[n]=t[n],r[bi+n]=e[n];return r}var Cn=class{constructor(e){this._key=Gr(e,Hr)}async verify(e,r){return await Xf(this._key,r,e)}marshal(){return this._key}get bytes(){return Re.encode({Type:Et.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Mt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ut.digest(this.bytes);return e}},yr=class{constructor(e,r){this._key=Gr(e,Pe),this._publicKey=Gr(r,Hr)}async sign(e){return await Qf(this._key,e)}get public(){return new Cn(this._publicKey)}marshal(){return this._key}get bytes(){return ye.encode({Type:Et.Ed25519,Data:this.marshal()}).subarray()}equals(e){return Mt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ut.digest(this.bytes);return e}async id(){let e=await Ve.digest(this.public.bytes);return Nt.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return await Vr(this.bytes,e);throw(0,pa.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function Iy(t){if(t.length>Pe){t=Gr(t,Pe+Hr);let n=t.subarray(0,Pe),i=t.subarray(Pe,t.length);return new yr(n,i)}t=Gr(t,Pe);let e=t.subarray(0,Pe),r=t.subarray(Hr);return new yr(e,r)}function _y(t){return t=Gr(t,Hr),new Cn(t)}async function Ry(){let{privateKey:t,publicKey:e}=await Yf();return new yr(t,e)}async function jf(t){let{privateKey:e,publicKey:r}=await Zf(t);return new yr(e,r)}function Gr(t,e){if(t=Uint8Array.from(t??[]),t.length!==e)throw(0,pa.default)(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}var ga={};kt(ga,{Secp256k1PrivateKey:()=>In,Secp256k1PublicKey:()=>Tn,generateKeyPair:()=>Uy,unmarshalSecp256k1PrivateKey:()=>Ny,unmarshalSecp256k1PublicKey:()=>Dy});var au=Q(Vt(),1);var $r=Q(Vt(),1);function tu(){return ce.randomPrivateKey()}async function eu(t,e){let{digest:r}=await Ut.digest(e);try{return await Cf(r,t)}catch(n){throw(0,$r.default)(n,"ERR_INVALID_INPUT")}}async function ru(t,e,r){try{let{digest:n}=await Ut.digest(r);return Tf(e,n,t)}catch(n){throw(0,$r.default)(n,"ERR_INVALID_INPUT")}}function nu(t){return ft.fromHex(t).toRawBytes(!0)}function iu(t){try{jo(t,!0)}catch(e){throw(0,$r.default)(e,"ERR_INVALID_PRIVATE_KEY")}}function ya(t){try{ft.fromHex(t)}catch(e){throw(0,$r.default)(e,"ERR_INVALID_PUBLIC_KEY")}}function ou(t){try{return jo(t,!0)}catch(e){throw(0,$r.default)(e,"ERR_INVALID_PRIVATE_KEY")}}var Tn=class{constructor(e){ya(e),this._key=e}async verify(e,r){return await ru(this._key,r,e)}marshal(){return nu(this._key)}get bytes(){return Re.encode({Type:Et.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Mt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ut.digest(this.bytes);return e}},In=class{constructor(e,r){this._key=e,this._publicKey=r??ou(e),iu(this._key),ya(this._publicKey)}async sign(e){return await eu(this._key,e)}get public(){return new Tn(this._publicKey)}marshal(){return this._key}get bytes(){return ye.encode({Type:Et.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Mt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Ut.digest(this.bytes);return e}async id(){let e=await this.public.hash();return Pt(e,"base58btc")}async export(e,r="libp2p-key"){if(r==="libp2p-key")return await Vr(this.bytes,e);throw(0,au.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function Ny(t){return new In(t)}function Dy(t){return new Tn(t)}async function Uy(){let t=await tu();return new In(t)}var Ei={rsa:ia,ed25519:da,secp256k1:ga};function Py(t){let e=Object.keys(Ei).join(" / ");return(0,su.default)(new Error(`invalid or unsupported key type ${t}. Must be ${e}`),"ERR_UNSUPPORTED_KEY_TYPE")}async function fu(t){let e=ye.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case Et.RSA:return await Ei.rsa.unmarshalRsaPrivateKey(r);case Et.Ed25519:return Ei.ed25519.unmarshalEd25519PrivateKey(r);case Et.Secp256k1:return Ei.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw Py(e.Type??"RSA")}}var Ta=Q(Vt(),1);var Be=Q(pu(),1);Be.default.formatters.b=t=>t==null?"undefined":Nt.baseEncode(t);Be.default.formatters.t=t=>t==null?"undefined":Me.baseEncode(t);Be.default.formatters.m=t=>t==null?"undefined":vr.baseEncode(t);Be.default.formatters.p=t=>t==null?"undefined":t.toString();Be.default.formatters.c=t=>t==null?"undefined":t.toString();Be.default.formatters.k=t=>t==null?"undefined":t.toString();function Ai(t){return Object.assign((0,Be.default)(t),{error:(0,Be.default)(`${t}:error`),trace:(0,Be.default)(`${t}:trace`)})}var Tc=Q(Vt(),1);var du="ERR_UNRECOGNIZED_VALIDITY",yu="ERR_SIGNATURE_CREATION";var gu="ERR_MISSING_PRIVATE_KEY";var Zy=Q(Vt(),1);var xu=Symbol.for("@libp2p/peer-id");var Qy=Symbol.for("nodejs.util.inspect.custom"),vu=Object.values(Sr).map(t=>t.decoder).reduce((t,e)=>t.or(e),Sr.identity.decoder),wu=114,bu=36,Eu=37,_n=class{constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[xu](){return!0}toString(){return this.string==null&&(this.string=Nt.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return xt.createV1(wu,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return Mt(this.multihash.bytes,e);if(typeof e=="string")return Xy(e).equals(this);if(e?.multihash?.bytes!=null)return Mt(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[Qy](){return`PeerId(${this.toString()})`}},Rn=class extends _n{constructor(e){super({...e,type:"RSA"}),this.type="RSA",this.publicKey=e.publicKey}},kn=class extends _n{constructor(e){super({...e,type:"Ed25519"}),this.type="Ed25519",this.publicKey=e.multihash.digest}},Nn=class extends _n{constructor(e){super({...e,type:"secp256k1"}),this.type="secp256k1",this.publicKey=e.multihash.digest}};function Xy(t,e){if(e=e??vu,t.charAt(0)==="1"||t.charAt(0)==="Q"){let r=er(Nt.decode(`z${t}`));return t.startsWith("12D")?new kn({multihash:r}):t.startsWith("16U")?new Nn({multihash:r}):new Rn({multihash:r})}return ma(vu.decode(t))}function ma(t){try{let e=er(t);if(e.code===Ve.code){if(e.digest.length===bu)return new kn({multihash:e});if(e.digest.length===Eu)return new Nn({multihash:e})}if(e.code===Ut.code)return new Rn({multihash:e})}catch{return Jy(xt.decode(t))}throw new Error("Supplied PeerID CID is invalid")}function Jy(t){if(t==null||t.multihash==null||t.version==null||t.version===1&&t.code!==wu)throw new Error("Supplied PeerID CID is invalid");let e=t.multihash;if(e.code===Ut.code)return new Rn({multihash:t.multihash});if(e.code===Ve.code){if(e.digest.length===bu)return new kn({multihash:t.multihash});if(e.digest.length===Eu)return new Nn({multihash:t.multihash})}throw new Error("Supplied PeerID CID is invalid")}var Ae;(function(t){let e;(function(i){i.EOL="EOL"})(e=t.ValidityType||(t.ValidityType={}));let r;(function(i){i[i.EOL=0]="EOL"})(r||(r={})),function(i){i.codec=()=>fn(r)}(e=t.ValidityType||(t.ValidityType={}));let n;t.codec=()=>(n==null&&(n=_r((i,o,a={})=>{a.lengthDelimited!==!1&&o.fork(),i.value!=null&&(o.uint32(10),o.bytes(i.value)),i.signature!=null&&(o.uint32(18),o.bytes(i.signature)),i.validityType!=null&&(o.uint32(24),t.ValidityType.codec().encode(i.validityType,o)),i.validity!=null&&(o.uint32(34),o.bytes(i.validity)),i.sequence!=null&&(o.uint32(40),o.uint64(i.sequence)),i.ttl!=null&&(o.uint32(48),o.uint64(i.ttl)),i.pubKey!=null&&(o.uint32(58),o.bytes(i.pubKey)),i.signatureV2!=null&&(o.uint32(66),o.bytes(i.signatureV2)),i.data!=null&&(o.uint32(74),o.bytes(i.data)),a.lengthDelimited!==!1&&o.ldelim()},(i,o)=>{let a={},s=o==null?i.len:i.pos+o;for(;i.pos<s;){let u=i.uint32();switch(u>>>3){case 1:a.value=i.bytes();break;case 2:a.signature=i.bytes();break;case 3:a.validityType=t.ValidityType.codec().decode(i);break;case 4:a.validity=i.bytes();break;case 5:a.sequence=i.uint64();break;case 6:a.ttl=i.uint64();break;case 7:a.pubKey=i.bytes();break;case 8:a.signatureV2=i.bytes();break;case 9:a.data=i.bytes();break;default:i.skipType(u&7);break}}return a})),n),t.encode=i=>Tr(i,t.codec()),t.decode=i=>Cr(i,t.codec())})(Ae||(Ae={}));var jy=["string","number","bigint","symbol"],t1=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Su(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";let e=typeof t;if(jy.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(e1(t))return"Buffer";let r=r1(t);return r||"Object"}function e1(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function r1(t){let e=Object.prototype.toString.call(t).slice(8,-1);if(t1.includes(e))return e}var b=class{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};b.uint=new b(0,"uint",!0);b.negint=new b(1,"negint",!0);b.bytes=new b(2,"bytes",!0);b.string=new b(3,"string",!0);b.array=new b(4,"array",!1);b.map=new b(5,"map",!1);b.tag=new b(6,"tag",!1);b.float=new b(7,"float",!0);b.false=new b(7,"false",!0);b.true=new b(7,"true",!0);b.null=new b(7,"null",!0);b.undefined=new b(7,"undefined",!0);b.break=new b(7,"break",!0);var U=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};var Qr=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",n1=new TextDecoder,i1=new TextEncoder;function Ci(t){return Qr&&globalThis.Buffer.isBuffer(t)}function xa(t){return t instanceof Uint8Array?Ci(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}var Tu=Qr?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):Au(t,e,r):(t,e,r)=>r-e>64?n1.decode(t.subarray(e,r)):Au(t,e,r),Iu=Qr?t=>t.length>64?globalThis.Buffer.from(t):Bu(t):t=>t.length>64?i1.encode(t):Bu(t),Ce=t=>Uint8Array.from(t),Xr=Qr?(t,e,r)=>Ci(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),_u=Qr?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),xa(globalThis.Buffer.concat(t,e))):(t,e)=>{let r=new Uint8Array(e),n=0;for(let i of t)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},Ru=Qr?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function ku(t,e){if(Ci(t)&&Ci(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function Bu(t,e=1/0){let r,n=t.length,i=null,o=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Au(t,e,r){let n=[];for(;e<r;){let i=t[e],o=null,a=i>239?4:i>223?3:i>191?2:1;if(e+a<=r){let s,u,f,c;switch(a){case 1:i<128&&(o=i);break;case 2:s=t[e+1],(s&192)===128&&(c=(i&31)<<6|s&63,c>127&&(o=c));break;case 3:s=t[e+1],u=t[e+2],(s&192)===128&&(u&192)===128&&(c=(i&15)<<12|(s&63)<<6|u&63,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:s=t[e+1],u=t[e+2],f=t[e+3],(s&192)===128&&(u&192)===128&&(f&192)===128&&(c=(i&15)<<18|(s&63)<<12|(u&63)<<6|f&63,c>65535&&c<1114112&&(o=c))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),e+=a}return o1(n)}var Cu=4096;function o1(t){let e=t.length;if(e<=Cu)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Cu));return r}var a1=256,Dn=class{constructor(e=a1){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let i=r.length-(this.maxCursor-this.cursor)-1;r.set(e,i)}else{if(r){let i=r.length-(this.maxCursor-this.cursor)-1;i<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,i),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=Ru(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){let n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=Xr(n,0,this.cursor)}else r=_u(this.chunks,this.cursor);return e&&this.reset(),r}};var nt="CBOR decode error:",va="CBOR encode error:",Un=[];Un[23]=1;Un[24]=2;Un[25]=3;Un[26]=5;Un[27]=9;function Fe(t,e,r){if(t.length-e<r)throw new Error(`${nt} not enough data for type`)}var Rt=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Yt(t,e,r){Fe(t,e,1);let n=t[e];if(r.strict===!0&&n<Rt[0])throw new Error(`${nt} integer encoded in more bytes than necessary (strict decode)`);return n}function Zt(t,e,r){Fe(t,e,2);let n=t[e]<<8|t[e+1];if(r.strict===!0&&n<Rt[1])throw new Error(`${nt} integer encoded in more bytes than necessary (strict decode)`);return n}function Qt(t,e,r){Fe(t,e,4);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<Rt[2])throw new Error(`${nt} integer encoded in more bytes than necessary (strict decode)`);return n}function Xt(t,e,r){Fe(t,e,8);let n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],i=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(r.strict===!0&&o<Rt[3])throw new Error(`${nt} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(r.allowBigInt===!0)return o;throw new Error(`${nt} integers outside of the safe integer range are not supported`)}function Nu(t,e,r,n){return new U(b.uint,Yt(t,e+1,n),2)}function Du(t,e,r,n){return new U(b.uint,Zt(t,e+1,n),3)}function Uu(t,e,r,n){return new U(b.uint,Qt(t,e+1,n),5)}function Lu(t,e,r,n){return new U(b.uint,Xt(t,e+1,n),9)}function re(t,e){return Dt(t,0,e.value)}function Dt(t,e,r){if(r<Rt[0]){let n=Number(r);t.push([e|n])}else if(r<Rt[1]){let n=Number(r);t.push([e|24,n])}else if(r<Rt[2]){let n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<Rt[3]){let n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<Rt[4]){let i=[e|27,0,0,0,0,0,0,0],o=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));i[8]=o&255,o=o>>8,i[7]=o&255,o=o>>8,i[6]=o&255,o=o>>8,i[5]=o&255,i[4]=a&255,a=a>>8,i[3]=a&255,a=a>>8,i[2]=a&255,a=a>>8,i[1]=a&255,t.push(i)}else throw new Error(`${nt} encountered BigInt larger than allowable range`)}}re.encodedSize=function(e){return Dt.encodedSize(e.value)};Dt.encodedSize=function(e){return e<Rt[0]?1:e<Rt[1]?2:e<Rt[2]?3:e<Rt[3]?5:9};re.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function Pu(t,e,r,n){return new U(b.negint,-1-Yt(t,e+1,n),2)}function Fu(t,e,r,n){return new U(b.negint,-1-Zt(t,e+1,n),3)}function Ku(t,e,r,n){return new U(b.negint,-1-Qt(t,e+1,n),5)}var wa=BigInt(-1),Mu=BigInt(1);function Ou(t,e,r,n){let i=Xt(t,e+1,n);if(typeof i!="bigint"){let o=-1-i;if(o>=Number.MIN_SAFE_INTEGER)return new U(b.negint,o,9)}if(n.allowBigInt!==!0)throw new Error(`${nt} integers outside of the safe integer range are not supported`);return new U(b.negint,wa-BigInt(i),9)}function Ti(t,e){let r=e.value,n=typeof r=="bigint"?r*wa-Mu:r*-1-1;Dt(t,e.type.majorEncoded,n)}Ti.encodedSize=function(e){let r=e.value,n=typeof r=="bigint"?r*wa-Mu:r*-1-1;return n<Rt[0]?1:n<Rt[1]?2:n<Rt[2]?3:n<Rt[3]?5:9};Ti.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function Ln(t,e,r,n){Fe(t,e,r+n);let i=Xr(t,e+r,e+r+n);return new U(b.bytes,i,r+n)}function Vu(t,e,r,n){return Ln(t,e,1,r)}function qu(t,e,r,n){return Ln(t,e,2,Yt(t,e+1,n))}function zu(t,e,r,n){return Ln(t,e,3,Zt(t,e+1,n))}function Hu(t,e,r,n){return Ln(t,e,5,Qt(t,e+1,n))}function Gu(t,e,r,n){let i=Xt(t,e+1,n);if(typeof i=="bigint")throw new Error(`${nt} 64-bit integer bytes lengths not supported`);return Ln(t,e,9,i)}function Ii(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===b.string?Iu(t.value):t.value),t.encodedBytes}function Jr(t,e){let r=Ii(e);Dt(t,e.type.majorEncoded,r.length),t.push(r)}Jr.encodedSize=function(e){let r=Ii(e);return Dt.encodedSize(r.length)+r.length};Jr.compareTokens=function(e,r){return f1(Ii(e),Ii(r))};function f1(t,e){return t.length<e.length?-1:t.length>e.length?1:ku(t,e)}function Pn(t,e,r,n,i){let o=r+n;Fe(t,e,o);let a=new U(b.string,Tu(t,e+r,e+o),o);return i.retainStringBytes===!0&&(a.byteValue=Xr(t,e+r,e+o)),a}function $u(t,e,r,n){return Pn(t,e,1,r,n)}function Wu(t,e,r,n){return Pn(t,e,2,Yt(t,e+1,n),n)}function Yu(t,e,r,n){return Pn(t,e,3,Zt(t,e+1,n),n)}function Zu(t,e,r,n){return Pn(t,e,5,Qt(t,e+1,n),n)}function Qu(t,e,r,n){let i=Xt(t,e+1,n);if(typeof i=="bigint")throw new Error(`${nt} 64-bit integer string lengths not supported`);return Pn(t,e,9,i,n)}var Xu=Jr;function jr(t,e,r,n){return new U(b.array,n,r)}function Ju(t,e,r,n){return jr(t,e,1,r)}function ju(t,e,r,n){return jr(t,e,2,Yt(t,e+1,n))}function tc(t,e,r,n){return jr(t,e,3,Zt(t,e+1,n))}function ec(t,e,r,n){return jr(t,e,5,Qt(t,e+1,n))}function rc(t,e,r,n){let i=Xt(t,e+1,n);if(typeof i=="bigint")throw new Error(`${nt} 64-bit integer array lengths not supported`);return jr(t,e,9,i)}function nc(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${nt} indefinite length items not allowed`);return jr(t,e,1,1/0)}function _i(t,e){Dt(t,b.array.majorEncoded,e.value)}_i.compareTokens=re.compareTokens;_i.encodedSize=function(e){return Dt.encodedSize(e.value)};function tn(t,e,r,n){return new U(b.map,n,r)}function ic(t,e,r,n){return tn(t,e,1,r)}function oc(t,e,r,n){return tn(t,e,2,Yt(t,e+1,n))}function ac(t,e,r,n){return tn(t,e,3,Zt(t,e+1,n))}function sc(t,e,r,n){return tn(t,e,5,Qt(t,e+1,n))}function fc(t,e,r,n){let i=Xt(t,e+1,n);if(typeof i=="bigint")throw new Error(`${nt} 64-bit integer map lengths not supported`);return tn(t,e,9,i)}function uc(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${nt} indefinite length items not allowed`);return tn(t,e,1,1/0)}function Ri(t,e){Dt(t,b.map.majorEncoded,e.value)}Ri.compareTokens=re.compareTokens;Ri.encodedSize=function(e){return Dt.encodedSize(e.value)};function cc(t,e,r,n){return new U(b.tag,r,1)}function lc(t,e,r,n){return new U(b.tag,Yt(t,e+1,n),2)}function hc(t,e,r,n){return new U(b.tag,Zt(t,e+1,n),3)}function pc(t,e,r,n){return new U(b.tag,Qt(t,e+1,n),5)}function dc(t,e,r,n){return new U(b.tag,Xt(t,e+1,n),9)}function ki(t,e){Dt(t,b.tag.majorEncoded,e.value)}ki.compareTokens=re.compareTokens;ki.encodedSize=function(e){return Dt.encodedSize(e.value)};var d1=20,y1=21,g1=22,m1=23;function yc(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${nt} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new U(b.null,null,1):new U(b.undefined,void 0,1)}function gc(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${nt} indefinite length items not allowed`);return new U(b.break,void 0,1)}function ba(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${nt} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${nt} Infinity values are not supported`)}return new U(b.float,t,e)}function mc(t,e,r,n){return ba(Ea(t,e+1),3,n)}function xc(t,e,r,n){return ba(Sa(t,e+1),5,n)}function vc(t,e,r,n){return ba(Sc(t,e+1),9,n)}function Ni(t,e,r){let n=e.value;if(n===!1)t.push([b.float.majorEncoded|d1]);else if(n===!0)t.push([b.float.majorEncoded|y1]);else if(n===null)t.push([b.float.majorEncoded|g1]);else if(n===void 0)t.push([b.float.majorEncoded|m1]);else{let i,o=!1;(!r||r.float64!==!0)&&(bc(n),i=Ea(le,1),n===i||Number.isNaN(n)?(le[0]=249,t.push(le.slice(0,3)),o=!0):(Ec(n),i=Sa(le,1),n===i&&(le[0]=250,t.push(le.slice(0,5)),o=!0))),o||(x1(n),i=Sc(le,1),le[0]=251,t.push(le.slice(0,9)))}}Ni.encodedSize=function(e,r){let n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){bc(n);let i=Ea(le,1);if(n===i||Number.isNaN(n))return 3;if(Ec(n),i=Sa(le,1),n===i)return 5}return 9};var wc=new ArrayBuffer(9),ne=new DataView(wc,1),le=new Uint8Array(wc,0);function bc(t){if(t===1/0)ne.setUint16(0,31744,!1);else if(t===-1/0)ne.setUint16(0,64512,!1);else if(Number.isNaN(t))ne.setUint16(0,32256,!1);else{ne.setFloat32(0,t);let e=ne.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)ne.setUint16(0,31744,!1);else if(r===0)ne.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{let i=r-127;i<-24?ne.setUint16(0,0):i<-14?ne.setUint16(0,(e&2147483648)>>16|1<<24+i,!1):ne.setUint16(0,(e&2147483648)>>16|i+15<<10|n>>13,!1)}}}function Ea(t,e){if(t.length-e<2)throw new Error(`${nt} not enough data for float16`);let r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,i=r&1023,o;return n===0?o=i*2**-24:n!==31?o=(i+1024)*2**(n-25):o=i===0?1/0:NaN,r&32768?-o:o}function Ec(t){ne.setFloat32(0,t,!1)}function Sa(t,e){if(t.length-e<4)throw new Error(`${nt} not enough data for float32`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function x1(t){ne.setFloat64(0,t,!1)}function Sc(t,e){if(t.length-e<8)throw new Error(`${nt} not enough data for float64`);let r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}Ni.compareTokens=re.compareTokens;function it(t,e,r){throw new Error(`${nt} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function Di(t){return()=>{throw new Error(`${nt} ${t}`)}}var _=[];for(let t=0;t<=23;t++)_[t]=it;_[24]=Nu;_[25]=Du;_[26]=Uu;_[27]=Lu;_[28]=it;_[29]=it;_[30]=it;_[31]=it;for(let t=32;t<=55;t++)_[t]=it;_[56]=Pu;_[57]=Fu;_[58]=Ku;_[59]=Ou;_[60]=it;_[61]=it;_[62]=it;_[63]=it;for(let t=64;t<=87;t++)_[t]=Vu;_[88]=qu;_[89]=zu;_[90]=Hu;_[91]=Gu;_[92]=it;_[93]=it;_[94]=it;_[95]=Di("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)_[t]=$u;_[120]=Wu;_[121]=Yu;_[122]=Zu;_[123]=Qu;_[124]=it;_[125]=it;_[126]=it;_[127]=Di("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)_[t]=Ju;_[152]=ju;_[153]=tc;_[154]=ec;_[155]=rc;_[156]=it;_[157]=it;_[158]=it;_[159]=nc;for(let t=160;t<=183;t++)_[t]=ic;_[184]=oc;_[185]=ac;_[186]=sc;_[187]=fc;_[188]=it;_[189]=it;_[190]=it;_[191]=uc;for(let t=192;t<=215;t++)_[t]=cc;_[216]=lc;_[217]=hc;_[218]=pc;_[219]=dc;_[220]=it;_[221]=it;_[222]=it;_[223]=it;for(let t=224;t<=243;t++)_[t]=Di("simple values are not supported");_[244]=it;_[245]=it;_[246]=it;_[247]=yc;_[248]=Di("simple values are not supported");_[249]=mc;_[250]=xc;_[251]=vc;_[252]=it;_[253]=it;_[254]=it;_[255]=gc;var Te=[];for(let t=0;t<24;t++)Te[t]=new U(b.uint,t,1);for(let t=-1;t>=-24;t--)Te[31-t]=new U(b.negint,t,1);Te[64]=new U(b.bytes,new Uint8Array(0),1);Te[96]=new U(b.string,"",1);Te[128]=new U(b.array,0,1);Te[160]=new U(b.map,0,1);Te[244]=new U(b.false,!1,1);Te[245]=new U(b.true,!0,1);Te[246]=new U(b.null,null,1);function Bc(t){switch(t.type){case b.false:return Ce([244]);case b.true:return Ce([245]);case b.null:return Ce([246]);case b.bytes:return t.value.length?void 0:Ce([64]);case b.string:return t.value===""?Ce([96]):void 0;case b.array:return t.value===0?Ce([128]):void 0;case b.map:return t.value===0?Ce([160]):void 0;case b.uint:return t.value<24?Ce([Number(t.value)]):void 0;case b.negint:if(t.value>=-24)return Ce([31-Number(t.value)])}}var w1={float64:!1,mapSorter:S1,quickEncodeToken:Bc};function b1(){let t=[];return t[b.uint.major]=re,t[b.negint.major]=Ti,t[b.bytes.major]=Jr,t[b.string.major]=Xu,t[b.array.major]=_i,t[b.map.major]=Ri,t[b.tag.major]=ki,t[b.float.major]=Ni,t}var Ac=b1(),Ba=new Dn,en=class{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${va} object contains circular references`);return new en(r,e)}},je={null:new U(b.null,null),undefined:new U(b.undefined,void 0),true:new U(b.true,!0),false:new U(b.false,!1),emptyArray:new U(b.array,0),emptyMap:new U(b.map,0)},tr={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new U(b.float,t):t>=0?new U(b.uint,t):new U(b.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new U(b.uint,t):new U(b.negint,t)},Uint8Array(t,e,r,n){return new U(b.bytes,t)},string(t,e,r,n){return new U(b.string,t)},boolean(t,e,r,n){return t?je.true:je.false},null(t,e,r,n){return je.null},undefined(t,e,r,n){return je.undefined},ArrayBuffer(t,e,r,n){return new U(b.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new U(b.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[je.emptyArray,new U(b.break)]:je.emptyArray;n=en.createCheck(n,t);let i=[],o=0;for(let a of t)i[o++]=Ui(a,r,n);return r.addBreakTokens?[new U(b.array,t.length),i,new U(b.break)]:[new U(b.array,t.length),i]},Object(t,e,r,n){let i=e!=="Object",o=i?t.keys():Object.keys(t),a=i?t.size:o.length;if(!a)return r.addBreakTokens===!0?[je.emptyMap,new U(b.break)]:je.emptyMap;n=en.createCheck(n,t);let s=[],u=0;for(let f of o)s[u++]=[Ui(f,r,n),Ui(i?t.get(f):t[f],r,n)];return E1(s,r),r.addBreakTokens?[new U(b.map,a),s,new U(b.break)]:[new U(b.map,a),s]}};tr.Map=tr.Object;tr.Buffer=tr.Uint8Array;for(let t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))tr[`${t}Array`]=tr.DataView;function Ui(t,e={},r){let n=Su(t),i=e&&e.typeEncoders&&e.typeEncoders[n]||tr[n];if(typeof i=="function"){let a=i(t,n,e,r);if(a!=null)return a}let o=tr[n];if(!o)throw new Error(`${va} unsupported type: ${n}`);return o(t,n,e,r)}function E1(t,e){e.mapSorter&&t.sort(e.mapSorter)}function S1(t,e){let r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);let i=r.type.major,o=Ac[i].compareTokens(r,n);return o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o}function Cc(t,e,r,n){if(Array.isArray(e))for(let i of e)Cc(t,i,r,n);else r[e.type.major](t,e,n)}function B1(t,e,r){let n=Ui(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){let i=r.quickEncodeToken(n);if(i)return i;let o=e[n.type.major];if(o.encodedSize){let a=o.encodedSize(n,r),s=new Dn(a);if(o(s,n,r),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return xa(s.chunks[0])}}return Ba.reset(),Cc(Ba,n,e,r),Ba.toBytes(!0)}function Aa(t,e){return e=Object.assign({},w1,e),B1(t,Ac,e)}var gv=Symbol.for("DONE"),mv=Symbol.for("BREAK");var Nv=Ai("ipns:utils"),Ic=St("/ipns/");var _c=(t,e,r)=>{let n=St(e);return fe([t,r,n])},Rc=t=>{let e=St("ipns-signature:");return fe([e,t])},kc=t=>Ae.encode(t),Nc=t=>{let e=Ae.decode(t);return e.sequence!=null&&(e.sequence=BigInt(e.sequence)),e.ttl!=null&&(e.ttl=BigInt(e.ttl)),{value:e.value??new Uint8Array(0),signature:e.signature??new Uint8Array(0),validityType:e.validityType??Ae.ValidityType.EOL,validity:e.validity??new Uint8Array(0),sequence:e.sequence??0n,pubKey:e.pubKey,ttl:e.ttl??void 0,signatureV2:e.signatureV2,data:e.data}},Dc=t=>fe([Ic,t.toBytes()]),Uc=t=>ma(t.slice(Ic.length)),Lc=(t,e,r,n,i)=>{let o;if(r===Ae.ValidityType.EOL)o=0;else throw(0,Tc.default)(new Error("Unknown validity type"),du);return Aa({Value:t,Validity:e,ValidityType:o,Sequence:n,TTL:i})};var Pc=Ai("ipns"),T1=Ve.code,Fc="/ipns/",I1=Fc.length,_1=async(t,e,r,n)=>{let i=new Ca.default(Date.now()+Number(n)),o=Ae.ValidityType.EOL,[a,s]=n.toString().split("."),u=BigInt(a)*BigInt(1e5)+BigInt(s??"0");return await Kc(t,e,r,o,i,u)},R1=async(t,e,r,n)=>{let i=Ca.default.fromString(n),o=Ae.ValidityType.EOL,a=i.toDate().getTime()-Date.now(),s=BigInt(a)*BigInt(1e5)+BigInt(i.getNano());return await Kc(t,e,r,o,i,s)},Kc=async(t,e,r,n,i,o)=>{r=BigInt(r);let a=St(i.toString());if(t.privateKey==null)throw(0,Ta.default)(new Error("Missing private key"),gu);let s=await fu(t.privateKey),u=await D1(s,e,n,a),f=Lc(e,a,n,r,o),c=Rc(f),l=await s.sign(c),h={value:e,signature:u,validityType:n,validity:a,sequence:r,ttl:o,signatureV2:l,data:f};if(t.publicKey!=null){let y=er(t.toBytes());(y.code!==T1||!Mt(t.publicKey,y.digest))&&(h.pubKey=t.publicKey)}return Pc("ipns entry for %b created",e),h},k1=t=>Wi.encode(t).slice(1),N1=t=>new Lt(`/ipns/${k1(t)}`),D1=async(t,e,r,n)=>{try{let i=_c(e,r,n);return await t.sign(i)}catch(i){throw Pc.error("record signature creation failed",i),(0,Ta.default)(new Error("record signature creation failed"),yu)}};return Hc(U1);})();
/*! Bundled license information:

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
return Ipns}));
