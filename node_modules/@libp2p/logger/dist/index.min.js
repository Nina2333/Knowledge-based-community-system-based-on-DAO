(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2PLogger = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Libp2PLogger=(()=>{var re=Object.create;var P=Object.defineProperty;var te=Object.getOwnPropertyDescriptor;var ne=Object.getOwnPropertyNames;var oe=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ae=(e,t)=>{for(var r in t)P(e,r,{get:t[r],enumerable:!0})},T=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of ne(t))!se.call(e,a)&&a!==r&&P(e,a,{get:()=>t[a],enumerable:!(o=te(t,a))||o.enumerable});return e};var ie=(e,t,r)=>(r=e!=null?re(oe(e)):{},T(t||!e||!e.__esModule?P(r,"default",{value:e,enumerable:!0}):r,e)),ce=e=>T(P({},"__esModule",{value:!0}),e);var V=R((Ne,q)=>{var M=1e3,z=M*60,O=z*60,U=O*24,fe=U*7,ue=U*365.25;q.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return de(e);if(r==="number"&&isFinite(e))return t.long?pe(e):le(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function de(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*ue;case"weeks":case"week":case"w":return r*fe;case"days":case"day":case"d":return r*U;case"hours":case"hour":case"hrs":case"hr":case"h":return r*O;case"minutes":case"minute":case"mins":case"min":case"m":return r*z;case"seconds":case"second":case"secs":case"sec":case"s":return r*M;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function le(e){var t=Math.abs(e);return t>=U?Math.round(e/U)+"d":t>=O?Math.round(e/O)+"h":t>=z?Math.round(e/z)+"m":t>=M?Math.round(e/M)+"s":e+"ms"}function pe(e){var t=Math.abs(e);return t>=U?j(e,t,U,"day"):t>=O?j(e,t,O,"hour"):t>=z?j(e,t,z,"minute"):t>=M?j(e,t,M,"second"):e+" ms"}function j(e,t,r,o){var a=t>=r*1.5;return Math.round(e/r)+" "+o+(a?"s":"")}});var X=R((Pe,G)=>{function he(e){r.debug=r,r.default=r,r.coerce=g,r.disable=p,r.enable=a,r.enabled=m,r.humanize=V(),r.destroy=N,Object.keys(e).forEach(n=>{r[n]=e[n]}),r.names=[],r.skips=[],r.formatters={};function t(n){let s=0;for(let f=0;f<n.length;f++)s=(s<<5)-s+n.charCodeAt(f),s|=0;return r.colors[Math.abs(s)%r.colors.length]}r.selectColor=t;function r(n){let s,f=null,S,i;function c(...d){if(!c.enabled)return;let l=c,b=Number(new Date),F=b-(s||b);l.diff=F,l.prev=s,l.curr=b,s=b,d[0]=r.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");let h=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,(v,w)=>{if(v==="%%")return"%";h++;let A=r.formatters[w];if(typeof A=="function"){let k=d[h];v=A.call(l,k),d.splice(h,1),h--}return v}),r.formatArgs.call(l,d),(l.log||r.log).apply(l,d)}return c.namespace=n,c.useColors=r.useColors(),c.color=r.selectColor(n),c.extend=o,c.destroy=r.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(S!==r.namespaces&&(S=r.namespaces,i=r.enabled(n)),i),set:d=>{f=d}}),typeof r.init=="function"&&r.init(c),c}function o(n,s){let f=r(this.namespace+(typeof s>"u"?":":s)+n);return f.log=this.log,f}function a(n){r.save(n),r.namespaces=n,r.names=[],r.skips=[];let s,f=(typeof n=="string"?n:"").split(/[\s,]+/),S=f.length;for(s=0;s<S;s++)f[s]&&(n=f[s].replace(/\*/g,".*?"),n[0]==="-"?r.skips.push(new RegExp("^"+n.slice(1)+"$")):r.names.push(new RegExp("^"+n+"$")))}function p(){let n=[...r.names.map(u),...r.skips.map(u).map(s=>"-"+s)].join(",");return r.enable(""),n}function m(n){if(n[n.length-1]==="*")return!0;let s,f;for(s=0,f=r.skips.length;s<f;s++)if(r.skips[s].test(n))return!1;for(s=0,f=r.names.length;s<f;s++)if(r.names[s].test(n))return!0;return!1}function u(n){return n.toString().substring(2,n.toString().length-2).replace(/\.\*\?$/,"*")}function g(n){return n instanceof Error?n.stack||n.message:n}function N(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}G.exports=he});var Z=R((y,I)=>{y.formatArgs=Ce;y.save=me;y.load=ge;y.useColors=be;y.storage=we();y.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();y.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function be(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Ce(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+I.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(r++,a==="%c"&&(o=r))}),e.splice(o,0,t)}y.log=console.debug||console.log||(()=>{});function me(e){try{e?y.storage.setItem("debug",e):y.storage.removeItem("debug")}catch{}}function ge(){let e;try{e=y.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function we(){try{return localStorage}catch{}}I.exports=X()(y);var{formatters:ye}=I.exports;ye.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var ze={};ae(ze,{disable:()=>Se,enable:()=>ke,enabled:()=>Me,logger:()=>Ue});var x=ie(Z(),1);function xe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),o=0;o<r.length;o++)r[o]=255;for(var a=0;a<e.length;a++){var p=e.charAt(a),m=p.charCodeAt(0);if(r[m]!==255)throw new TypeError(p+" is ambiguous");r[m]=a}var u=e.length,g=e.charAt(0),N=Math.log(u)/Math.log(256),n=Math.log(256)/Math.log(u);function s(i){if(i instanceof Uint8Array||(ArrayBuffer.isView(i)?i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength):Array.isArray(i)&&(i=Uint8Array.from(i))),!(i instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(i.length===0)return"";for(var c=0,d=0,l=0,b=i.length;l!==b&&i[l]===0;)l++,c++;for(var F=(b-l)*n+1>>>0,h=new Uint8Array(F);l!==b;){for(var E=i[l],v=0,w=F-1;(E!==0||v<d)&&w!==-1;w--,v++)E+=256*h[w]>>>0,h[w]=E%u>>>0,E=E/u>>>0;if(E!==0)throw new Error("Non-zero carry");d=v,l++}for(var A=F-d;A!==F&&h[A]===0;)A++;for(var k=g.repeat(c);A<F;++A)k+=e.charAt(h[A]);return k}function f(i){if(typeof i!="string")throw new TypeError("Expected String");if(i.length===0)return new Uint8Array;var c=0;if(i[c]!==" "){for(var d=0,l=0;i[c]===g;)d++,c++;for(var b=(i.length-c)*N+1>>>0,F=new Uint8Array(b);i[c];){var h=r[i.charCodeAt(c)];if(h===255)return;for(var E=0,v=b-1;(h!==0||E<l)&&v!==-1;v--,E++)h+=u*F[v]>>>0,F[v]=h%256>>>0,h=h/256>>>0;if(h!==0)throw new Error("Non-zero carry");l=E,c++}if(i[c]!==" "){for(var w=b-l;w!==b&&F[w]===0;)w++;for(var A=new Uint8Array(d+(b-w)),k=d;w!==b;)A[k++]=F[w++];return A}}}function S(i){var c=f(i);if(c)return c;throw new Error(`Non-${t} character`)}return{encode:s,decodeUnsafe:f,decode:S}}var Fe=xe,ve=Fe,K=ve;var Ie=new Uint8Array(0);var Q=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};var D=class{constructor(t,r,o){this.name=t,this.prefix=r,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},L=class{constructor(t,r,o){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=o}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return _(this,t)}},$=class{constructor(t){this.decoders=t}or(t){return _(this,t)}decode(t){let r=t[0],o=this.decoders[r];if(o)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},_=(e,t)=>new $({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),B=class{constructor(t,r,o,a){this.name=t,this.prefix=r,this.baseEncode=o,this.baseDecode=a,this.encoder=new D(t,r,o),this.decoder=new L(t,r,a)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},W=({name:e,prefix:t,encode:r,decode:o})=>new B(e,t,r,o),J=({prefix:e,name:t,alphabet:r})=>{let{encode:o,decode:a}=K(r,t);return W({prefix:e,name:t,encode:o,decode:p=>Q(a(p))})},Ae=(e,t,r,o)=>{let a={};for(let n=0;n<t.length;++n)a[t[n]]=n;let p=e.length;for(;e[p-1]==="=";)--p;let m=new Uint8Array(p*r/8|0),u=0,g=0,N=0;for(let n=0;n<p;++n){let s=a[e[n]];if(s===void 0)throw new SyntaxError(`Non-${o} character`);g=g<<r|s,u+=r,u>=8&&(u-=8,m[N++]=255&g>>u)}if(u>=r||255&g<<8-u)throw new SyntaxError("Unexpected end of data");return m},Ee=(e,t,r)=>{let o=t[t.length-1]==="=",a=(1<<r)-1,p="",m=0,u=0;for(let g=0;g<e.length;++g)for(u=u<<8|e[g],m+=8;m>r;)m-=r,p+=t[a&u>>m];if(m&&(p+=t[a&u<<r-m]),o)for(;p.length*r&7;)p+="=";return p},C=({name:e,prefix:t,bitsPerChar:r,alphabet:o})=>W({prefix:t,name:e,encode(a){return Ee(a,o,r)},decode(a){return Ae(a,o,r,e)}});var Y=J({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Je=J({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var H=C({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ve=C({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ge=C({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Xe=C({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ze=C({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ke=C({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Qe=C({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_e=C({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),We=C({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ee=C({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),er=C({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rr=C({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),tr=C({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});x.default.formatters.b=e=>e==null?"undefined":Y.baseEncode(e);x.default.formatters.t=e=>e==null?"undefined":H.baseEncode(e);x.default.formatters.m=e=>e==null?"undefined":ee.baseEncode(e);x.default.formatters.p=e=>e==null?"undefined":e.toString();x.default.formatters.c=e=>e==null?"undefined":e.toString();x.default.formatters.k=e=>e==null?"undefined":e.toString();function Ue(e){return Object.assign((0,x.default)(e),{error:(0,x.default)(`${e}:error`),trace:(0,x.default)(`${e}:trace`)})}function Se(){x.default.disable()}function ke(e){x.default.enable(e)}function Me(e){return x.default.enabled(e)}return ce(ze);})();
return Libp2PLogger}));
